import{ck as p,cl as w,O as b,_ as g}from"./assets/index-POi8GhpC.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="00a969ef-0715-4946-b537-31fc06a43144",e._sentryDebugIdIdentifier="sentry-dbid-00a969ef-0715-4946-b537-31fc06a43144")}catch{}})();var m={networkId:1,networkName:"mainnet",dashboardBase:"https://dashboard.radixdlt.com"};function f(e){return e.startsWith("account_rdx1")&&e.length===66}function _({networkApi:e}){return async function(t){let r=await k({address:t,networkApi:e});return v({resources:r,networkApi:e})}}async function k({address:e,networkApi:t}){let r=!0,n,o=[],s=await A(t);for(;r;){let l={address:e,limit_per_page:100,cursor:n,at_ledger_state:{state_version:s}},d=await t.state.innerClient.entityFungiblesPage({stateEntityFungiblesPageRequest:l});o=o.concat(d.items),d.next_cursor?n=d.next_cursor:r=!1}return o}async function v({resources:e,networkApi:t}){var o;let r=[],n=[];for(let s=0;s<e.length;s+=50)n.push(e.slice(s,s+50));for(let s of n){let l=s.map(a=>a.resource_address),d=await t.state.getEntityDetailsVaultAggregated(l),c=new Map;for(let a of d)if(a.details!==void 0){let i=(o=a.metadata)==null?void 0:o.items.find(y=>y.key==="symbol"),u=(i==null?void 0:i.value.typed.type)==="String"?i.value.typed.value:"?";a.details.type==="FungibleResource"&&c.set(a.address,{decimals:a.details.divisibility,symbol:u})}for(let a of s)if(a.aggregation_level==="Global"){let i=c.get(a.resource_address)||{decimals:0,symbol:"?"},u=b.from({asset:i.symbol!==g.Radix?`${g.Radix}.${i.symbol}-${a.resource_address}`:"XRD.XRD",value:a.amount});r.push(u)}}return r}async function A(e){return e.status.getCurrent().then(t=>t.ledger_state.state_version)}var h=async({dappConfig:e})=>{var n;let t=p({...e,networkId:((n=e.network)==null?void 0:n.networkId)||1}),r=w.initialize(t.gatewayApi.clientConfig);return{networkApi:r,getBalance:_({networkApi:r}),getAddress:()=>"",validateAddress:f,signAndBroadcast:()=>{throw new Error("Not implemented")}}};export{m as RadixMainnet,h as RadixToolbox,f as validateAddress};
