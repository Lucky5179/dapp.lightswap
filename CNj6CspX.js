import{M as g,dI as T,f$ as B,cn as u,gg as v,L as R,O as h,_ as n,d4 as k,d5 as E,gh as H,cZ as V}from"./assets/index-POi8GhpC.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e991a53b-6b15-499d-b358-8d36289801a5",e._sentryDebugIdIdentifier="sentry-dbid-e991a53b-6b15-499d-b358-8d36289801a5")}catch{}})();const A=e=>{switch(e.chain){case n.Avalanche:case n.BinanceSmartChain:case n.Ethereum:return 8e4;case n.BitcoinCash:return 1500;case n.Bitcoin:case n.Litecoin:return 350;case n.Dogecoin:return 450;default:return 1}},P=e=>e?e.isSynthetic?h.from({chain:e.chain}):h.fromChainOrSignature(e.chain):h.from({chain:n.THORChain}),x=({direction:e,multiplier:t})=>e==="transfer"?t:e==="inbound"?2/3:2,U=e=>{if(!e||e.isSynthetic||!(k(e)||E(e)||H(e)))return 1},q=({asset:e,gasRate:t})=>e?e.set(t*A(e)):h.fromChainOrSignature(n.THORChain,.02),z={[g.Average]:1.2,[g.Fast]:1.5,[g.Fastest]:2},I=({gasPrice:e,direction:t="transfer",feeOptionType:a=g.Fast,multiplier:s})=>e*x({direction:t,multiplier:s||z[a]}),C=({asset:e,type:t="transfer",chainInfo:a})=>{const{feeOptionType:s}=V();return u.useMemo(()=>I({gasPrice:(a==null?void 0:a.gasAsset)||0,feeOptionType:s,multiplier:U(e),direction:t==="inbound"?"inbound":"transfer"})*A(e),[e,a,s,t])},N=({inputAsset:e,outputAsset:t,type:a="transfer"})=>{const s=P(e),i=P(t),{data:y,isLoading:O}=T([s,i,e,t].filter(Boolean)),{data:r,isLoading:w}=B(),[M,G]=u.useMemo(()=>{const c=r==null?void 0:r.find(({asset:p})=>p.includes(s==null?void 0:s.chain)),o=r==null?void 0:r.find(({asset:p})=>p.includes(i==null?void 0:i.chain));return[c,o]},[r,s==null?void 0:s.chain,i==null?void 0:i.chain]),D=C({asset:s,type:a,chainInfo:M}),S=C({asset:i,type:a,chainInfo:G}),f=u.useMemo(()=>s.set(D),[D,s]),l=u.useMemo(()=>i.set(S),[S,i]),d=u.useCallback(c=>{var o,p;return((p=y[(o=v(c))==null?void 0:o.identifier])==null?void 0:p.price_usd)||0},[y]),{outputGasAssetUSDPrice:b,inputGasAssetUSDPrice:m,inputAssetUSDPrice:_,outputAssetUSDPrice:F}=u.useMemo(()=>({inputAssetUSDPrice:d(e),outputAssetUSDPrice:t?d(t):0,inputGasAssetUSDPrice:d(s),outputGasAssetUSDPrice:d(i)}),[d,e,s,t,i]),L=u.useMemo(()=>{const c=f.getValue("number")*m,o=l.getValue("number")*b;return new R(f.eq(l)?c:c+o).toCurrency()},[f,m,l,b]);return{inputFee:f,outputFee:l,feeInUSD:L,isLoading:w||O,inputAssetUSDPrice:_,outputAssetUSDPrice:F,inputGasAssetUSDPrice:m,outputGasAssetUSDPrice:b}};export{U as a,I as g,q as p,N as u};
