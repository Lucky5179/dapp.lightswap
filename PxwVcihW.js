import{cn as s,dG as A,O as C,_ as o}from"./assets/index-POi8GhpC.js";import{u as _}from"./DdtGuP0z.js";import{u as v}from"./Bcp9QaNf.js";(function(){try{var n=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new n.Error().stack;i&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[i]="813812f1-a363-4990-85c5-510eb73393b7",n._sentryDebugIdIdentifier="sentry-dbid-813812f1-a363-4990-85c5-510eb73393b7")}catch{}})();const E=(n,i)=>{const{getMaxBalance:f,isWalletConnected:d}=_(),{synthAssets:b}=v(),[c,h]=s.useState([]),[m,p]=s.useState([]),l=s.useCallback(async e=>{const a=await f(e,!0)||A;return d(e.chain)&&a.bigIntValue>0n?a:void 0},[f,d]);s.useEffect(()=>{Promise.all(b.map(e=>l(e).then(a=>({asset:e,provider:"Thorchain",identifier:e.symbol,balance:a})))).then(e=>p(e))},[l,b]);const y=s.useCallback(async()=>{const e=(i?n.filter(t=>{var r;return((r=t==null?void 0:t.provider)==null?void 0:r.toLowerCase())==="thorchain"}):n).map(async({identifier:t,address:r,chain:w,...g})=>{const D=w||t.split(".")[0],[S]=t.split("-"),u=C.fromStringSync([o.Avalanche,o.Ethereum,o.BinanceSmartChain,o.Arbitrum,o.Radix].includes(D)?`${S}${r?`-${r}`:""}`:t);if(!u)return null;const I=await l(u);return{asset:u,balance:I,identifier:t,...g}}),a=await Promise.all(e);h(a.filter(Boolean))},[i,n,l]);return s.useEffect(()=>{y()},[y]),s.useMemo(()=>c.find(e=>e.identifier==="DOT.DOT"||e.identifier==="DASH.DASH")?c:c.concat(m),[c,m])};export{E as u};
