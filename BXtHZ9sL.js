const __vite__fileDeps = [
    "D0hJbDtL.js",
    "assets/index-POi8GhpC.js",
    "assets/index-CWjS2nv2.css",
  ],
  __vite__mapDeps = (i) => i.map((i) => __vite__fileDeps[i]);
import {
  cm as kt,
  cn as s,
  co as Gs,
  cp as xa,
  cq as ha,
  cr as qe,
  cs as Js,
  ct as Zs,
  cu as en,
  cv as e,
  cw as Ye,
  cx as _,
  cy as ce,
  cz as d,
  cA as x,
  cB as ga,
  cC as Fe,
  cD as Pt,
  cE as tn,
  cF as Nt,
  x as Ft,
  cG as an,
  cH as sn,
  cI as Ae,
  cJ as g,
  L as pe,
  cK as fa,
  cL as Pe,
  cM as De,
  cN as nn,
  K as ge,
  cO as Sa,
  cP as Ce,
  O as fe,
  cQ as rn,
  cR as on,
  cS as wa,
  cT as It,
  cU as lt,
  cV as ln,
  cW as cn,
  cX as ya,
  cY as un,
  cZ as Ie,
  c_ as dn,
  c$ as pn,
  d0 as mn,
  d1 as xn,
  d2 as hn,
  d3 as gn,
  F as ct,
  _ as Z,
  d4 as ut,
  d5 as Ot,
  d6 as fn,
  d7 as Sn,
  d8 as va,
  d9 as wn,
  da as yn,
  db as ba,
  dc as vn,
  dd as Xe,
  de as Rt,
  df as Qe,
  dg as bn,
  dh as jn,
  M as Mt,
  di as Ke,
  dj as Se,
  dk as me,
  dl as ja,
  dm as Aa,
  dn as $e,
  dp as Ca,
  dq as dt,
  dr as Ge,
  ds as pt,
  dt as An,
  du as Cn,
  dv as Tn,
  dw as Et,
  dx as _n,
  dy as kn,
  V as Je,
  dz as Pn,
  dA as Nn,
  dB as Fn,
  dC as In,
  dD as On,
  dE as Rn,
  dF as Mn,
  dG as Ta,
  dH as En,
  dI as Vn,
  dJ as Un,
  dK as mt,
  dL as Vt,
  dM as Ze,
  dN as Dn,
  __tla as $n,
} from "./assets/index-POi8GhpC.js";
import { C as _a } from "./CDEB0yzb.js";
import { P as Wn } from "./C2Mbex37.js";
import { u as et } from "./DLie8hhL.js";
import { u as Hn } from "./DdtGuP0z.js";
import { I as ka } from "./L2srWHi_.js";
import {
  u as Bn,
  c as Pa,
  v as Na,
  a as zn,
  p as Ln,
  r as qn,
  g as Yn,
  b as Xn,
  d as Ut,
  e as We,
  f as Dt,
  o as Qn,
  h as Kn,
  i as Gn,
  j as $t,
  S as Fa,
  k as Jn,
  l as Zn,
  m as ei,
  n as ti,
  A as ai,
} from "./BnkXd4Ft.js";
import { A as Ia } from "./BNvyzkU_.js";
import { u as Oa } from "./BIRMHJJ4.js";
import { u as si } from "./Cpj0Wy6v.js";
import { u as Ra } from "./PxwVcihW.js";
import { C as ni, __tla as ii } from "./Bujnyu6O.js";
import { C as Ma } from "./DLtD_L4G.js";
import { u as ri, C as oi, __tla as li } from "./B6G2Z8wq.js";
import { G as ci } from "./BwAMgJ-H.js";
import { V as ui } from "./BNG_iicX.js";
import { S as di } from "./B5uxAM4_.js";
import { v as Ea } from "./Bb0RDO2T.js";
import { u as Va } from "./vSRfwVQ4.js";
import { c as pi, __tla as mi } from "./Bm7XAPj_.js";
import "./DPMYbftn.js";
import "./iCHHcf-3.js";
import "./CNj6CspX.js";
import "./C3OMHbbi.js";
import "./CZ5SrGDV.js";
import "./C6gN5CZK.js";
import "./CJGo2KxJ.js";
import "./C8rAcL73.js";
import "./CYwjOChi.js";
import "./DtctggWu.js";
import "./Bcp9QaNf.js";
import "./ClP-vrwx.js";
import "./CiJOrYqO.js";
import "./8CFpYboC.js";
import { __tla as xi } from "./CeesTFZ8.js";
let Ua,
  hi = Promise.all([
    (() => {
      try {
        return $n;
      } catch {}
    })(),
    (() => {
      try {
        return ii;
      } catch {}
    })(),
    (() => {
      try {
        return li;
      } catch {}
    })(),
    (() => {
      try {
        return mi;
      } catch {}
    })(),
    (() => {
      try {
        return xi;
      } catch {}
    })(),
  ]).then(async () => {
    (function () {
      try {
        var t =
            typeof window < "u"
              ? window
              : typeof global < "u"
              ? global
              : typeof self < "u"
              ? self
              : {},
          a = new t.Error().stack;
        a &&
          ((t._sentryDebugIds = t._sentryDebugIds || {}),
          (t._sentryDebugIds[a] = "9dde14e0-6fc1-401f-9a34-34264401e2a0"),
          (t._sentryDebugIdIdentifier =
            "sentry-dbid-9dde14e0-6fc1-401f-9a34-34264401e2a0"));
      } catch {}
    })();
    function Da(t) {
      const {
          min: a = 0,
          max: n = 100,
          onChange: i,
          value: r,
          defaultValue: l,
          isReversed: c,
          direction: o = "ltr",
          orientation: f = "horizontal",
          id: S,
          isDisabled: m,
          isReadOnly: h,
          onChangeStart: k,
          onChangeEnd: C,
          step: v = 1,
          getAriaValueText: p,
          "aria-valuetext": u,
          "aria-label": w,
          "aria-labelledby": I,
          name: b,
          focusThumbOnChange: R = !0,
          minStepsBetweenThumbs: W = 0,
          ...E
        } = t,
        H = kt(k),
        P = kt(C),
        X = kt(p),
        z = Kn({ isReversed: c, direction: o, orientation: f }),
        [L, se] = Bn({ value: r, defaultValue: l ?? [25, 75], onChange: i });
      if (!Array.isArray(L))
        throw new TypeError(
          `[range-slider] You passed an invalid value for \`value\` or \`defaultValue\`, expected \`Array\` but got \`${typeof L}\``
        );
      const [oe, K] = s.useState(!1),
        [xe, O] = s.useState(!1),
        [q, ie] = s.useState(-1),
        Y = !(m || h),
        ae = s.useRef(L),
        A = L.map((y) => Pa(y, a, n)),
        Q = W * v,
        M = $a(A, a, n, Q),
        U = s.useRef({ eventSource: null, value: [], valueBounds: [] });
      (U.current.value = A), (U.current.valueBounds = M);
      const j = A.map((y) => n - y + a),
        ve = (z ? j : A).map((y) => Na(y, a, n)),
        ye = f === "vertical",
        re = s.useRef(null),
        ne = s.useRef(null),
        le = zn({
          getNodes() {
            const y = ne.current,
              V = y == null ? void 0 : y.querySelectorAll("[role=slider]");
            return V ? Array.from(V) : [];
          },
        }),
        _e = s.useId(),
        T = Gn(S ?? _e),
        G = s.useCallback(
          (y) => {
            var V, D;
            if (!re.current) return;
            U.current.eventSource = "pointer";
            const N = re.current.getBoundingClientRect(),
              { clientX: ue, clientY: $ } =
                (D = (V = y.touches) == null ? void 0 : V[0]) != null ? D : y,
              we = ye ? N.bottom - $ : ue - N.left,
              Le = ye ? N.height : N.width;
            let Ve = we / Le;
            return z && (Ve = 1 - Ve), Ln(Ve, a, n);
          },
          [ye, z, n, a]
        ),
        be = (n - a) / 10,
        je = v || (n - a) / 100,
        de = s.useMemo(
          () => ({
            setValueAtIndex(y, V) {
              if (!Y) return;
              const D = U.current.valueBounds[y];
              (V = parseFloat(qn(V, D.min, je))), (V = Pa(V, D.min, D.max));
              const N = [...U.current.value];
              (N[y] = V), se(N);
            },
            setActiveIndex: ie,
            stepUp(y, V = je) {
              const D = U.current.value[y],
                N = z ? D - V : D + V;
              de.setValueAtIndex(y, N);
            },
            stepDown(y, V = je) {
              const D = U.current.value[y],
                N = z ? D + V : D - V;
              de.setValueAtIndex(y, N);
            },
            reset() {
              se(ae.current);
            },
          }),
          [je, z, se, Y]
        ),
        J = s.useCallback(
          (y) => {
            const V = y.key,
              D = {
                ArrowRight: () => de.stepUp(q),
                ArrowUp: () => de.stepUp(q),
                ArrowLeft: () => de.stepDown(q),
                ArrowDown: () => de.stepDown(q),
                PageUp: () => de.stepUp(q, be),
                PageDown: () => de.stepDown(q, be),
                Home: () => {
                  const { min: N } = M[q];
                  de.setValueAtIndex(q, N);
                },
                End: () => {
                  const { max: N } = M[q];
                  de.setValueAtIndex(q, N);
                },
              }[V];
            D &&
              (y.preventDefault(),
              y.stopPropagation(),
              D(y),
              (U.current.eventSource = "keyboard"));
          },
          [de, q, be, M]
        ),
        {
          getThumbStyle: he,
          rootStyle: st,
          trackStyle: Be,
          innerTrackStyle: ee,
        } = s.useMemo(
          () =>
            Yn({
              isReversed: z,
              orientation: f,
              thumbRects: le,
              thumbPercents: ve,
            }),
          [z, f, ve, le]
        ),
        nt = s.useCallback(
          (y) => {
            var V;
            const D = y ?? q;
            if (D !== -1 && R) {
              const N = T.getThumb(D),
                ue =
                  (V = ne.current) == null
                    ? void 0
                    : V.ownerDocument.getElementById(N);
              ue && setTimeout(() => ue.focus());
            }
          },
          [R, q, T]
        );
      Gs(() => {
        U.current.eventSource === "keyboard" &&
          (P == null || P(U.current.value));
      }, [A, P]);
      const bt = (y) => {
          const V = G(y) || 0,
            D = U.current.value.map((we) => Math.abs(we - V)),
            N = Math.min(...D);
          let ue = D.indexOf(N);
          const $ = D.filter((we) => we === N);
          $.length > 1 && V > U.current.value[ue] && (ue = ue + $.length - 1),
            ie(ue),
            de.setValueAtIndex(ue, V),
            nt(ue);
        },
        jt = (y) => {
          if (q == -1) return;
          const V = G(y) || 0;
          ie(q), de.setValueAtIndex(q, V), nt(q);
        };
      Xn(ne, {
        onPanSessionStart(y) {
          Y && (K(!0), bt(y), H == null || H(U.current.value));
        },
        onPanSessionEnd() {
          Y && (K(!1), P == null || P(U.current.value));
        },
        onPan(y) {
          Y && jt(y);
        },
      });
      const ze = s.useCallback(
          (y = {}, V = null) => ({
            ...y,
            ...E,
            id: T.root,
            ref: xa(V, ne),
            tabIndex: -1,
            "aria-disabled": Ut(m),
            "data-focused": We(xe),
            style: { ...y.style, ...st },
          }),
          [E, m, xe, st, T]
        ),
        Re = s.useCallback(
          (y = {}, V = null) => ({
            ...y,
            ref: xa(V, re),
            id: T.track,
            "data-disabled": We(m),
            style: { ...y.style, ...Be },
          }),
          [m, Be, T]
        ),
        Ne = s.useCallback(
          (y = {}, V = null) => ({
            ...y,
            ref: V,
            id: T.innerTrack,
            style: { ...y.style, ...ee },
          }),
          [ee, T]
        ),
        Me = s.useCallback(
          (y, V = null) => {
            var D;
            const { index: N, ...ue } = y,
              $ = A[N];
            if ($ == null)
              throw new TypeError(
                `[range-slider > thumb] Cannot find value at index \`${N}\`. The \`value\` or \`defaultValue\` length is : ${A.length}`
              );
            const we = M[N];
            return {
              ...ue,
              ref: V,
              role: "slider",
              tabIndex: Y ? 0 : void 0,
              id: T.getThumb(N),
              "data-active": We(oe && q === N),
              "aria-valuetext":
                (D = X == null ? void 0 : X($)) != null
                  ? D
                  : u == null
                  ? void 0
                  : u[N],
              "aria-valuemin": we.min,
              "aria-valuemax": we.max,
              "aria-valuenow": $,
              "aria-orientation": f,
              "aria-disabled": Ut(m),
              "aria-readonly": Ut(h),
              "aria-label": w == null ? void 0 : w[N],
              "aria-labelledby":
                (w != null && w[N]) || I == null ? void 0 : I[N],
              style: { ...y.style, ...he(N) },
              onKeyDown: Dt(y.onKeyDown, J),
              onFocus: Dt(y.onFocus, () => {
                O(!0), ie(N);
              }),
              onBlur: Dt(y.onBlur, () => {
                O(!1), ie(-1);
              }),
            };
          },
          [T, A, M, Y, oe, q, X, u, f, m, h, w, I, he, J, O]
        ),
        ke = s.useCallback(
          (y = {}, V = null) => ({
            ...y,
            ref: V,
            id: T.output,
            htmlFor: A.map((D, N) => T.getThumb(N)).join(" "),
            "aria-live": "off",
          }),
          [T, A]
        ),
        Ee = s.useCallback(
          (y, V = null) => {
            const { value: D, ...N } = y,
              ue = !(D < a || D > n),
              $ = D >= A[0] && D <= A[A.length - 1];
            let we = Na(D, a, n);
            we = z ? 100 - we : we;
            const Le = {
              position: "absolute",
              pointerEvents: "none",
              ...Qn({
                orientation: f,
                vertical: { bottom: `${we}%` },
                horizontal: { left: `${we}%` },
              }),
            };
            return {
              ...N,
              ref: V,
              id: T.getMarker(y.value),
              role: "presentation",
              "aria-hidden": !0,
              "data-disabled": We(m),
              "data-invalid": We(!ue),
              "data-highlighted": We($),
              style: { ...y.style, ...Le },
            };
          },
          [m, z, n, a, f, A, T]
        ),
        At = s.useCallback(
          (y, V = null) => {
            const { index: D, ...N } = y;
            return {
              ...N,
              ref: V,
              id: T.getInput(D),
              type: "hidden",
              value: A[D],
              name: Array.isArray(b) ? b[D] : `${b}-${D}`,
            };
          },
          [b, A, T]
        );
      return {
        state: {
          value: A,
          isFocused: xe,
          isDragging: oe,
          getThumbPercent: (y) => ve[y],
          getThumbMinValue: (y) => M[y].min,
          getThumbMaxValue: (y) => M[y].max,
        },
        actions: de,
        getRootProps: ze,
        getTrackProps: Re,
        getInnerTrackProps: Ne,
        getThumbProps: Me,
        getMarkerProps: Ee,
        getInputProps: At,
        getOutputProps: ke,
      };
    }
    function $a(t, a, n, i) {
      return t.map((r, l) => {
        const c = l === 0 ? a : t[l - 1] + i,
          o = l === t.length - 1 ? n : t[l + 1] - i;
        return { min: c, max: o };
      });
    }
    var [Wa, tt] = ha({
        name: "SliderContext",
        errorMessage:
          "useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />",
      }),
      [Ha, at] = ha({
        name: "RangeSliderStylesContext",
        errorMessage: `useRangeSliderStyles returned is 'undefined'. Seems you forgot to wrap the components in "<RangeSlider />" `,
      }),
      Wt = qe(function (t, a) {
        const n = { orientation: "horizontal", ...t },
          i = Js("Slider", n),
          r = Zs(n),
          { direction: l } = en();
        r.direction = l;
        const { getRootProps: c, ...o } = Da(r),
          f = s.useMemo(() => ({ ...o, name: n.name }), [o, n.name]);
        return e.jsx(Wa, {
          value: f,
          children: e.jsx(Ha, {
            value: i,
            children: e.jsx(Ye.div, {
              ...c({}, a),
              className: "chakra-slider",
              __css: i.container,
              children: n.children,
            }),
          }),
        });
      });
    Wt.displayName = "RangeSlider";
    var xt = qe(function (t, a) {
      const { getThumbProps: n, getInputProps: i, name: r } = tt(),
        l = at(),
        c = n(t, a);
      return e.jsxs(Ye.div, {
        ...c,
        className: $t("chakra-slider__thumb", t.className),
        __css: l.thumb,
        children: [
          c.children,
          r && e.jsx("input", { ...i({ index: t.index }) }),
        ],
      });
    });
    xt.displayName = "RangeSliderThumb";
    var Ht = qe(function (t, a) {
      const { getTrackProps: n } = tt(),
        i = at(),
        r = n(t, a);
      return e.jsx(Ye.div, {
        ...r,
        className: $t("chakra-slider__track", t.className),
        __css: i.track,
        "data-testid": "chakra-range-slider-track",
      });
    });
    Ht.displayName = "RangeSliderTrack";
    var Bt = qe(function (t, a) {
      const { getInnerTrackProps: n } = tt(),
        i = at(),
        r = n(t, a);
      return e.jsx(Ye.div, {
        ...r,
        className: "chakra-slider__filled-track",
        __css: i.filledTrack,
      });
    });
    Bt.displayName = "RangeSliderFilledTrack";
    var Ba = qe(function (t, a) {
      const { getMarkerProps: n } = tt(),
        i = at(),
        r = n(t, a);
      return e.jsx(Ye.div, {
        ...r,
        className: $t("chakra-slider__marker", t.className),
        __css: i.mark,
      });
    });
    Ba.displayName = "RangeSliderMark";
    const zt = ({ chain: t }) =>
        e.jsxs(_, {
          align: "center",
          direction: "column",
          gap: 4,
          h: "full",
          justify: "center",
          w: "full",
          children: [
            e.jsx(ce, { color: "primary", name: "chart", size: 48 }),
            e.jsx(d, {
              textAlign: "center",
              children: x("views.swap.gasHistoryNotSupported", { chain: t }),
            }),
          ],
        }),
      za = ({
        title: t,
        isOpened: a,
        setIsOpened: n,
        historyData: i,
        unitName: r,
        chain: l,
        hoveredIndex: c,
        setHoveredIndex: o,
        isLoading: f,
        gasState: S,
        resetChartValue: m,
      }) => {
        const h = () => {
          n(!1);
        };
        return e.jsx(ga, {
          isOpened: a,
          onClose: h,
          title: t || "",
          children: f
            ? e.jsx(_, {
                align: "center",
                minH: "230px",
                children: e.jsx(ce, { spin: !0, name: "loader", size: 24 }),
              })
            : i
            ? e.jsxs(Fe, {
                w: "full",
                children: [
                  e.jsxs(Fe, {
                    pb: 2,
                    pl: 3,
                    children: [
                      e.jsx(d, {
                        children: x("components.gasHistory.chartTitle", {
                          chain: l,
                        }),
                      }),
                      e.jsxs(_, {
                        children: [
                          e.jsx(d, {
                            fontSize: "11px",
                            children: x("views.swap.currentGasRate"),
                          }),
                          "\xA0",
                          e.jsx(d, {
                            color: `brand.${S == null ? void 0 : S.color}`,
                            fontSize: "11px",
                            children: `${S == null ? void 0 : S.state} (${
                              i.values[i.values.length - 1]
                            } ${r})`,
                          }),
                        ],
                      }),
                    ],
                  }),
                  e.jsxs(_, {
                    bg: "borderPrimary",
                    borderRadius: "md",
                    direction: "column",
                    pt: 2,
                    px: 1,
                    w: "full",
                    children: [
                      e.jsxs(_, {
                        direction: "column",
                        ml: 3,
                        children: [
                          e.jsxs(_, {
                            children: [
                              e.jsx(d, {
                                color: "brand.navy",
                                children: c && i.values[c],
                              }),
                              "\xA0",
                              e.jsx(d, { children: r }),
                            ],
                          }),
                          e.jsx(d, { children: c && i.labels[c] }),
                        ],
                      }),
                      e.jsx(Fe, {
                        ml: "-13px",
                        onMouseLeave: m,
                        width: "calc(100% + 26px)",
                        children: e.jsx(_a, {
                          hideAxisLines: !0,
                          hideLabel: !0,
                          hideTooltip: !0,
                          hoveredIndex: c,
                          labels: i == null ? void 0 : i.labels,
                          onHover: o,
                          values: i == null ? void 0 : i.values,
                        }),
                      }),
                    ],
                  }),
                ],
              })
            : e.jsx(_, {
                align: "center",
                minH: "230px",
                children: e.jsx(zt, { chain: l }),
              }),
        });
      },
      La = ({
        sx: t,
        historyData: a,
        unitName: n,
        chain: i,
        hoveredIndex: r,
        setHoveredIndex: l,
        isLoading: c,
        gasState: o,
        resetChartValue: f,
      }) =>
        e.jsx(_, {
          _dark: { bgColor: "bgSecondary", border: "none" },
          align: "center",
          bgColor: "white",
          border: "1px solid",
          borderColor: "borderPrimary",
          borderRadius: 24,
          boxShadow: "md",
          boxSizing: "border-box",
          direction: "column",
          justify: a ? "start" : "center",
          maxWidth: "480px",
          minH: "500px",
          mt: { base: 0, lg: "64px" },
          mx: "auto",
          p: 4,
          sx: t,
          top: 0,
          transition: Pt,
          width: { lg: "280px" },
          children: c
            ? e.jsx(ce, { spin: !0, name: "loader", size: 24 })
            : a
            ? e.jsxs(Fe, {
                w: "full",
                children: [
                  e.jsxs(Fe, {
                    pb: 2,
                    pl: 2,
                    children: [
                      e.jsx(d, {
                        children: x("components.gasHistory.chartTitle", {
                          chain: i,
                        }),
                      }),
                      e.jsxs(_, {
                        children: [
                          e.jsx(d, {
                            fontSize: "11px",
                            children: x("views.swap.currentGasRate"),
                          }),
                          "\xA0",
                          e.jsx(d, {
                            color: `brand.${o == null ? void 0 : o.color}`,
                            fontSize: "11px",
                            children: `${o == null ? void 0 : o.state} (${
                              a.values[a.values.length - 1]
                            } ${n})`,
                          }),
                        ],
                      }),
                    ],
                  }),
                  e.jsxs(_, {
                    bg: "borderPrimary",
                    borderRadius: "xl",
                    direction: "column",
                    pt: 2,
                    w: "full",
                    children: [
                      e.jsxs(_, {
                        direction: "column",
                        display: "flex",
                        ml: 3,
                        children: [
                          e.jsxs(_, {
                            children: [
                              e.jsx(d, {
                                color: "brand.navy",
                                children: r && a.values[r],
                              }),
                              "\xA0",
                              e.jsx(d, { children: n }),
                            ],
                          }),
                          e.jsx(d, {
                            color: "textSecondary",
                            fontWeight: "normal",
                            textStyle: "captiongit",
                            children: r && a.labels[r],
                          }),
                        ],
                      }),
                      e.jsx(Fe, {
                        ml: "-9px",
                        onMouseLeave: f,
                        width: "calc(100% + 18px)",
                        children: e.jsx(_a, {
                          hideAxisLines: !0,
                          hideLabel: !0,
                          hideTooltip: !0,
                          hoveredIndex: r,
                          labels: a == null ? void 0 : a.labels,
                          onHover: l,
                          values: a == null ? void 0 : a.values,
                        }),
                      }),
                    ],
                  }),
                ],
              })
            : e.jsx(zt, { chain: i }),
        }),
      qa = (t) => (t ? t.reduce((a, n) => a + n, 0) / t.length : void 0),
      ht = (t, a) => {
        const n = a || qa(t);
        if (!(n && t)) return;
        const i = t[(t == null ? void 0 : t.length) - 1];
        return i < n * 0.85
          ? { color: "green", state: x("views.swap.low") }
          : i > n * 1.15
          ? { color: "red", state: x("views.swap.high") }
          : { color: "yellow", state: x("views.swap.average") };
      },
      Ya = ({
        analyticsVisible: t,
        toggleAnalytics: a,
        inputAssetChain: n,
      }) => {
        const { isLgActive: i } = tn(),
          { data: r, isLoading: l } = Nt(),
          c = s.useMemo(() => {
            if (r) return r.find((C) => C && C.chainId === Ft[n]);
          }, [r, n]),
          o = s.useMemo(() => {
            if (!c) return;
            const C =
                (c == null ? void 0 : c.history.map((w) => w.value)) ?? [],
              v =
                (c == null
                  ? void 0
                  : c.history.map((w) =>
                      an(w.timestamp).format("DD MMM YYYY, HH:mm")
                    )) ?? [],
              p = C.reduce((w, I, b) => (I === null && w.push(b), w), []),
              u = v.filter((w, I) => !p.includes(I));
            return {
              values: C.filter(Boolean),
              labels: u,
              average24h: c.average24h,
              average7d: c.average7d,
            };
          }, [c]),
          [f, S] = s.useState(o == null ? void 0 : o.values.length);
        s.useEffect(() => {
          o != null &&
            o.values &&
            S((o == null ? void 0 : o.values.length) - 1);
        }, [o]);
        const m = sn(n),
          h = ht(
            o == null ? void 0 : o.values,
            (o == null ? void 0 : o.average7d) ||
              (o == null ? void 0 : o.average24h)
          ),
          k = () => {
            o &&
              setTimeout(() => {
                S((o == null ? void 0 : o.values.length) - 1);
              }, 100);
          };
        return i
          ? e.jsx(Fe, {
              position: { base: "static", xl: "absolute" },
              right: 2,
              transform: {
                base: `translateY(${t ? "0%" : "100%"})`,
                lg: `translateX(${t ? "0%" : "100%"})`,
              },
              transition: Pt,
              children:
                t &&
                e.jsx(La, {
                  chain: m,
                  gasState: h,
                  historyData: o,
                  hoveredIndex: f,
                  isLoading: l,
                  resetChartValue: k,
                  setHoveredIndex: S,
                  unitName: c == null ? void 0 : c.unitName,
                }),
            })
          : e.jsx(za, {
              chain: m,
              gasState: h,
              historyData: o,
              hoveredIndex: f,
              isLoading: l,
              isOpened: t,
              resetChartValue: k,
              setHoveredIndex: S,
              setIsOpened: a,
              title: "Analysis",
              unitName: c == null ? void 0 : c.unitName,
            });
      },
      Lt = (t) =>
        s.useMemo(() => {
          var o;
          const a = {
              outOfPocketFee: 0,
              firstNetworkFee: 0,
              affiliateFee: 0,
              networkFee: 0,
              totalFee: 0,
              liquidityFee: 0,
            },
            n = Object.values(t || {}).flat();
          if (n.length === 0) return a;
          const {
            outOfPocketFee: i,
            networkFee: r,
            affiliateFee: l,
            liquidityFee: c,
          } = n.reduce(
            (
              f,
              {
                affiliateFeeUSD: S,
                networkFeeUSD: m,
                isOutOfPocket: h,
                liquidityFeeUsd: k,
              }
            ) => (
              (f.affiliateFee += S || 0),
              (f.networkFee += m || 0),
              (f.outOfPocketFee += h && m ? m : 0),
              (f.liquidityFee += k || 0),
              f
            ),
            a
          );
          return {
            firstNetworkFee:
              ((o = n == null ? void 0 : n[0]) == null
                ? void 0
                : o.networkFeeUSD) || 0,
            affiliateFee: l,
            networkFee: r,
            outOfPocketFee: i,
            totalFee: l + r + c,
            liquidityFee: c,
          };
        }, [t]),
      qt = s.memo(({ fees: t, size: a = "md" }) => {
        const { networkFee: n } = Lt(t),
          i = s.useMemo(() => (a === "md" ? 14 : 10), [a]);
        return n
          ? e.jsx(Ae, {
              children: e.jsxs(g, {
                center: !0,
                children: [
                  e.jsx(d, {
                    color: "brand.yellow",
                    textStyle: "caption-xs",
                    variant: "secondaryBtn",
                    children: `$${new pe({ value: n, decimal: 2 }).toFixed(2)}`,
                  }),
                  e.jsx(ce, {
                    className: "pl-0.5",
                    color: "yellow",
                    name: "gas",
                    size: i,
                  }),
                ],
              }),
            })
          : null;
      }),
      Xa = 24 * 60 * 60 * 1e3,
      Yt = ({
        streamingSwapParams: t,
        timeEstimates: a,
        streamSwap: n,
        useMaxTime: i,
      }) => {
        const r = s.useMemo(() => {
          if (!a) return null;
          const l = a.inbound ? a.inbound * 1e3 : 0,
            c = a.swap ? a.swap * 1e3 : 0,
            o = a.outbound ? a.outbound * 1e3 : 0,
            f = t ? t.interval * t.subswaps * 6e3 : 0,
            S = l + c + o,
            m = l + c + Math.max(f, o);
          return n ? m : S;
        }, [t, a, n]);
        return i ? Xa : r;
      },
      Xt = ({ timeEstimates: t, streamSwap: a }) => {
        const n = Yt({ timeEstimates: t, streamSwap: a }),
          i = s.useMemo(() => {
            if (n) {
              if (n > 54e6) return "red";
              if (n > 288e5) return "orange";
            }
            return "";
          }, [n]);
        return e.jsx("div", {
          children: e.jsxs(g, {
            className: "gap-1 items-center",
            children: [
              e.jsx(d, {
                textStyle: "caption",
                color: i,
                children: n ? fa(n) : "n/a",
              }),
              e.jsx(Ae, {
                content: x("txManager.estimatedTxDuration"),
                children: e.jsx(ce, { name: "timer", size: 14 }),
              }),
            ],
          }),
        });
      },
      Qa = {
        MAYACHAIN: "MAYAChain",
        MAYACHAIN_STREAMING: "MAYAChain Streaming",
        THORCHAIN: "THORChain",
        THORCHAIN_STREAMING: "THORChain Streaming",
        CHAINFLIP: "Chainflip",
        ONEINCH: "1inch",
        UNISWAP: "UniswapV1",
        UNISWAP_V1: "UniswapV1",
        UNISWAPV2: "UniswapV2",
        Uniswap_V2: "UniswapV2",
        KYBERSWAP: "KyberSwap",
        KYBERSWAPV2: "KyberSwapV2",
        KYBERSWAP_V2: "KyberSwapV2",
        TRADERJOE: "TraderJoe",
        PLATYPUS: "Platypus",
        PANGOLIN_V1: "Pangolin",
        BALANCERV2: "Balancer",
        UNISWAPV3: "UniswapV3",
        Uniswap_V3: "UniswapV3",
        ZEROX: "0x",
        CURVEV2: "CurveV2",
        Curve_V2: "CurveV2",
        CURVE: "Curve",
        SUSHISWAP: "SushiSwap",
        SUSHISWAP_V2: "SushiSwap",
        SUSHI: "SushiSwap",
        SYNTHETIXATOMIC: "Syntetix",
        SYNTHETIX_ATOMIC_SIP288: "Syntetix",
        KYBERSWAPELASTIC: "KyberSwap",
        SYNAPSE: "Synapse",
        TRADERJOE_V2: "TraderJoe",
        AVALANCHE_TRADERJOE_V2: "TraderJoe",
        "WOOFI-AVAX": "WOOFI",
        CAVIAR_V1: "CaviarNine",
        OCISWAP_V1: "Ociswap",
        CAMELOT_V3: "Camelot",
        OPENOCEAN_V2: "OpenOcean",
      },
      gt = s.memo(({ className: t, size: a = 24, providers: n }) => {
        const i = s.useMemo(() => n.map((r) => r.split("-")[0]), [n]);
        return e.jsx(_, {
          className: "px-1 max-w-[100px]",
          flex: 1,
          flexDirection: "row-reverse",
          justify: "between",
          children: i.map((r, l) => {
            const c = Qa[r] || r,
              o = l === 0;
            return e.jsx(
              g,
              {
                className: Pe(t, { "z-10": o, "-z-0 -ml-2": !o }),
                children: e.jsx(Ae, {
                  content: c,
                  children: e.jsx(De, {
                    logoURI: nn(r),
                    secondaryIcon: [
                      ge.MAYACHAIN_STREAMING,
                      ge.THORCHAIN_STREAMING,
                    ].includes(r)
                      ? "dollarOutlined"
                      : void 0,
                    size: a,
                  }),
                }),
              },
              r
            );
          }),
        });
      }),
      Ka = s.memo(
        ({
          expectedOutput: t,
          streamingSwap: a,
          outputAssetDecimal: n,
          unitPrice: i,
          path: r,
          providers: l,
          isApproved: c,
          assetTicker: o,
          fees: f,
          streamSwap: S,
          estimatedTime: m,
        }) => {
          const [h, k] = s.useState(!1),
            C = et(),
            v = s.useMemo(
              () =>
                Number.parseFloat(
                  (S && (a == null ? void 0 : a.expectedBuyAmount)) || t
                ),
              [t, S, a == null ? void 0 : a.expectedBuyAmount]
            ),
            p = s.useMemo(() => C(new pe({ value: v, decimal: n })), [C, n, v]),
            u = s.useMemo(() => C(i * v), [v, C, i]),
            w = s.useCallback((b) => {
              b.stopPropagation(), k(!0);
            }, []),
            I = s.useMemo(() => {
              var H;
              const b =
                  (H = r.split(" -> ")) == null
                    ? void 0
                    : H.map((P) => {
                        var X;
                        return (X = P.split("-")) == null ? void 0 : X[0];
                      }),
                [R, W, ...E] = b;
              return E.length > 1
                ? `${R} \u2192 ${W} ... ${E[E.length - 1]}`
                : b.join(" \u2192 ");
            }, [r]);
          return e.jsx(g, {
            col: !0,
            className: "relative",
            flex: 1,
            children: e.jsxs(g, {
              col: !0,
              className: "pl-4 py-1",
              children: [
                e.jsxs(g, {
                  justify: "between",
                  children: [
                    e.jsxs(g, {
                      className: "pt-3",
                      children: [
                        e.jsx(gt, {
                          className: "pb-3",
                          providers: l,
                          size: 30,
                        }),
                        c && e.jsx(Sa, { iconName: "approved", size: 22 }),
                      ],
                    }),
                    e.jsxs(g, {
                      col: !0,
                      className: "pr-2",
                      justify: "end",
                      children: [
                        e.jsxs(g, {
                          className: "gap-x-1",
                          justify: "end",
                          children: [
                            e.jsx(d, { children: new pe(p).toSignificant(6) }),
                            e.jsx(d, { children: o }),
                          ],
                        }),
                        e.jsxs(g, {
                          alignCenter: !0,
                          className: "gap-x-1",
                          children: [
                            e.jsx(qt, { fees: f }),
                            e.jsx(d, { variant: "secondary", children: u }),
                          ],
                        }),
                      ],
                    }),
                  ],
                }),
                e.jsxs(g, {
                  justify: "between",
                  children: [
                    e.jsx(Ce, {
                      className: "h-6 px-3 w-fit",
                      onClick: w,
                      tooltip: x("views.swap.swapPath"),
                      variant: "tint",
                      children: e.jsxs(d, {
                        textStyle: "caption-xs",
                        variant: "secondary",
                        children: [x("common.path"), ": ", I],
                      }),
                    }),
                    e.jsx(g, {
                      className: "mr-2",
                      children: e.jsx(Xt, {
                        streamSwap: typeof S == "boolean" ? S : !!a,
                        timeEstimates: m,
                      }),
                    }),
                  ],
                }),
              ],
            }),
          });
        }
      ),
      Ga = ({ asset: t, meta: a }) => {
        var r;
        if (!((r = a == null ? void 0 : a.assets) != null && r.length)) return;
        const n = a.assets.find((l) => fe.from({ asset: l.asset }).eqAsset(t));
        if (n != null && n.image) return n.image;
        const [, i] = t.symbol.split("-");
        return rn({ address: i, identifier: `${t.chain}.${t.ticker}` });
      },
      Ja = s.memo(
        ({
          expectedOutput: t,
          streamingSwap: a,
          onClick: n,
          isApproved: i,
          outputAsset: r,
          unitPrice: l,
          path: c,
          providers: o,
          selected: f,
          fees: S,
          streamSwap: m,
          estimatedTime: h,
          meta: k,
        }) => {
          const C = et(),
            v = s.useMemo(
              () =>
                Number.parseFloat(
                  (m && (a == null ? void 0 : a.expectedBuyAmount)) || t
                ),
              [t, m, a == null ? void 0 : a.expectedBuyAmount]
            ),
            p = s.useMemo(
              () => new pe({ value: v, decimal: r.decimal }),
              [v, r.decimal]
            ),
            u = Ga({ asset: r, meta: k }),
            w = s.useMemo(() => {
              var R;
              const b =
                (R = c.split(" -> ")) == null
                  ? void 0
                  : R.map((W) => {
                      var E;
                      return (E = W.split("-")) == null ? void 0 : E[0];
                    });
              return `${b[0]} \u2192 ${b[b.length - 1]}`;
            }, [c]),
            I = s.useMemo(() => C(l * v), [v, C, l]);
          return e.jsxs(on, {
            className: "!px-3 !py-1.5 !gap-0",
            isFocused: f,
            onClick: n,
            children: [
              e.jsxs(g, {
                justify: "between",
                children: [
                  e.jsxs(g, {
                    alignCenter: !0,
                    className: "py-2",
                    children: [
                      e.jsx(gt, { providers: o.toReversed() }),
                      i &&
                        e.jsx(Sa, {
                          iconName: "approved",
                          size: 18,
                          tooltip: x("views.swap.routeContractApproved"),
                        }),
                    ],
                  }),
                  e.jsx(g, {
                    align: "end",
                    justify: "between",
                    children: e.jsx(g, {
                      center: !0,
                      className: "gap-x-1.5",
                      children: e.jsxs(g, {
                        col: !0,
                        children: [
                          e.jsxs(g, {
                            className: "gap-x-1",
                            justify: "end",
                            children: [
                              e.jsx(d, {
                                fontWeight: "bold",
                                children: p.toSignificant(6),
                              }),
                              e.jsx(d, { children: r.ticker }),
                              e.jsx(De, {
                                asset: r,
                                hasChainIcon: !1,
                                logoURI: u,
                                size: 18,
                              }),
                            ],
                          }),
                          e.jsxs(g, {
                            alignCenter: !0,
                            className: "gap-x-1",
                            justify: "end",
                            children: [
                              e.jsx(qt, { fees: S, size: "sm" }),
                              e.jsx(d, {
                                className: "text-right",
                                variant: "secondary",
                                children: I,
                              }),
                            ],
                          }),
                        ],
                      }),
                    }),
                  }),
                ],
              }),
              e.jsxs(g, {
                className: "pl-1 pt-0.5",
                justify: "between",
                children: [
                  e.jsx(d, {
                    className: "!text-[9px]",
                    textStyle: "caption-xs",
                    variant: "secondary",
                    children: w,
                  }),
                  e.jsx(Xt, {
                    streamSwap: typeof m == "boolean" ? m : !!a,
                    timeEstimates: h,
                  }),
                ],
              }),
            ],
          });
        }
      ),
      Za = s.memo(
        ({
          setSwapRoute: t,
          selectedRoute: a,
          outputUnitPrice: n,
          outputAsset: i,
          routes: r,
          streamSwap: l,
        }) =>
          a
            ? e.jsx(g, {
                className: "self-stretch transition-max-height duration-300",
                children: e.jsx(wa, {
                  className:
                    "flex-1 self-stretch !bg-light-bg-primary dark:!bg-dark-gray-light !rounded-2xl flex-col overflow-hidden",
                  shadow: !1,
                  title: e.jsx(Ka, {
                    ...a,
                    providers: a.providers.toReversed(),
                    assetTicker: i.ticker,
                    outputAssetDecimal: i.decimal || 8,
                    streamSwap: l,
                    unitPrice: n,
                  }),
                  titleClassName: "!pl-0 pr-1 !pt-0",
                  children: e.jsx(g, {
                    col: !0,
                    className: "gap-1 pt-2",
                    children: r.map((c) =>
                      s.createElement(Ja, {
                        ...c,
                        key: `${c.path}-${c.providers.join(",")}`,
                        onClick: () => t(c),
                        outputAsset: i,
                        selected: c === a,
                        streamSwap: !!c.streamingSwap,
                        unitPrice: n,
                      })
                    ),
                  }),
                }),
              })
            : null
      ),
      es = s.memo(({ totalFee: t, fees: a, isOpened: n, onClose: i }) => {
        const r = et(2, ""),
          l = s.useMemo(() => {
            if (!a) return [];
            const { affiliateFee: c, ...o } = Object.entries(a).reduce(
              (f, S) => {
                const [m, h] = S;
                if (h) {
                  for (const k of h) f.affiliateFee += k.affiliateFeeUSD || 0;
                  f[m] = h;
                }
                return f;
              },
              { affiliateFee: 0 }
            );
            return [
              ...Object.entries(o).reduce(
                (f, [S, m]) =>
                  m
                    ? [
                        ...m.map(
                          ({
                            type: h,
                            networkFee: k,
                            networkFeeUSD: C,
                            asset: v,
                          }) => {
                            const p = fe.from({ asset: v });
                            return {
                              label: e.jsxs(g, {
                                center: !0,
                                className: "gap-x-1",
                                children: [
                                  e.jsx(d, {
                                    textStyle: "caption",
                                    children:
                                      h === "inbound"
                                        ? x("common.gasFee")
                                        : x("common.outboundFee"),
                                  }),
                                  e.jsx(gt, { providers: [S], size: 20 }),
                                ],
                              }),
                              value: e.jsxs(g, {
                                center: !0,
                                className: "gap-x-1",
                                children: [
                                  p &&
                                    e.jsxs(e.Fragment, {
                                      children: [
                                        e.jsx(d, {
                                          textStyle: "caption-xs",
                                          variant: "secondary",
                                          children: "(",
                                        }),
                                        e.jsx(De, { asset: p, size: 14 }),
                                        e.jsxs(d, {
                                          textStyle: "caption-xs",
                                          variant: "secondary",
                                          children: [r(k || 0), ")"],
                                        }),
                                      ],
                                    }),
                                  e.jsx(d, { children: r(C || 0) }),
                                ],
                              }),
                            };
                          }
                        ),
                        ...f,
                      ]
                    : f,
                []
              ),
              {
                label: e.jsxs(g, {
                  center: !0,
                  className: "gap-x-1",
                  children: [
                    e.jsx(d, {
                      textStyle: "caption",
                      children: x("views.swap.exchangeFee"),
                    }),
                    e.jsx(De, {
                      asset: fe.fromChainOrSignature("ETH.THOR"),
                      hasChainIcon: !1,
                      size: 20,
                    }),
                  ],
                }),
                value:
                  c > 0
                    ? r(c)
                    : e.jsx(d, { variant: "green", children: "FREE" }),
              },
              {
                label: e.jsx(g, {
                  center: !0,
                  children: e.jsx(d, {
                    textStyle: "caption",
                    children: x("views.wallet.totalFee"),
                  }),
                }),
                value: e.jsx(d, { children: t }),
              },
            ];
          }, [a, r, t]);
        return (
          s.useEffect(() => {
            !a && n && i();
          }, [a, n, i]),
          a
            ? e.jsx(ga, {
                isOpened: n,
                onClose: i,
                title: x("views.swap.feeExplanation"),
                children: e.jsx(g, {
                  className: "w-80",
                  flex: 1,
                  children: e.jsx(ka, { items: l }),
                }),
              })
            : null
        );
      }),
      ts = ({ inputAsset: t }) =>
        e.jsxs(e.Fragment, {
          children: [
            e.jsxs(d, {
              textStyle: "caption",
              variant: "yellow",
              children: [
                "Are you looking for native token ",
                e.jsx(It, {
                  className: "text-twitter-blue",
                  to: lt(t, ln),
                  children: "$RUNE?",
                }),
              ],
            }),
            e.jsx(d, { textStyle: "caption-xs", children: "\xA0" }),
            e.jsx(d, {
              textStyle: "caption",
              variant: "yellow",
              children:
                "You have selected $RUNE token ticker on Ethereum chain. RUNE token on Ethereum chain is a deprecated token. Please make sure you are swapping the correct token.",
            }),
          ],
        }),
      ft = 6,
      as = 5,
      He = 15,
      Oe = 10,
      Qt = 0.5,
      ss = ({
        route: t,
        outputAsset: a,
        outputAmount: n,
        slippagePercent: i,
        setSlippagePercent: r,
      }) => {
        var v;
        const [l, c] = s.useState(0),
          [o, f] = s.useState(!1),
          [S, m] = s.useState(!1),
          h = s.useMemo(() => {
            var W;
            const p = new pe({
              value:
                ((W = t == null ? void 0 : t.streamingSwap) == null
                  ? void 0
                  : W.expectedBuyAmount) || 0,
              decimal: a.decimal,
            });
            if (p.lte(0)) return 100;
            const u = n.div(p),
              w = He + Oe * ft,
              I = u.getValue("number") * 100,
              b = 100 - Number(I),
              R = ns(w, b);
            return I < 100 ? R : 100;
          }, [
            n,
            a.decimal,
            (v = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : v.expectedBuyAmount,
          ]);
        s.useEffect(() => {
          const p = He + (Oe - i) * ft;
          c(i > 0 ? p : 0);
        }, [i]);
        const k = i > 0 ? "brand.btnPrimary" : "brand.orange",
          C = s.useCallback(
            (p) => {
              if (p[0] < He / 2) {
                r(0);
                return;
              }
              const u = Oe - (p[0] - He) / ft;
              if (u <= Qt) {
                r(Qt);
                return;
              }
              if (u >= Oe) {
                r(Oe);
                return;
              }
              r(Math.min(u, Oe));
            },
            [r]
          );
        return e.jsxs(_, {
          animateOpacity: !0,
          in: !0,
          as: cn,
          w: "100%",
          children: [
            e.jsxs(_, {
              children: [
                e.jsx(d, {
                  color: "textSecondary",
                  fontWeight: "semibold",
                  ml: 2,
                  textStyle: "caption",
                  children: x("common.slippageSettings"),
                }),
                e.jsx(Ae, {
                  content: x("common.slippageTooltip"),
                  place: "bottom",
                  children: e.jsx(ce, {
                    className: "ml-1",
                    color: "secondary",
                    name: "infoCircle",
                    size: 18,
                  }),
                }),
              ],
            }),
            e.jsx(_, {
              flex: 1,
              gap: 1,
              onMouseEnter: () => f(!0),
              onMouseLeave: () => f(!1),
              px: 3,
              py: 2,
              children: e.jsx(_, {
                direction: "column",
                w: "100%",
                children: e.jsx(_, {
                  gap: 2.5,
                  children: e.jsxs(Wt, {
                    onChange: (p) => C(p),
                    onChangeEnd: () => m(!1),
                    onChangeStart: () => m(!0),
                    size: "lg",
                    step: 3,
                    value: [l, h],
                    children: [
                      e.jsx(Ht, {
                        bg: "textSecondary",
                        boxSize: 2,
                        children: e.jsx(Bt, {
                          bg: k,
                          boxSize: 2,
                          width: "50%",
                        }),
                      }),
                      e.jsx(ya, {
                        hasArrow: !0,
                        bg: "bgPrimary",
                        isOpen: o || S,
                        label: e.jsx(Fa, {
                          p: 1,
                          children:
                            i === 0
                              ? e.jsx(d, {
                                  color: "brand.orange",
                                  textStyle: "caption-xs",
                                  children: x("views.swap.noPriceProtection"),
                                })
                              : e.jsxs(_, {
                                  children: [
                                    e.jsx(d, {
                                      textStyle: "caption-xs",
                                      variant: "secondary",
                                      children: "Slippage: \xA0",
                                    }),
                                    e.jsxs(d, {
                                      color:
                                        i === 10
                                          ? "brand.yellow"
                                          : "textPrimary",
                                      textStyle: "caption-xs",
                                      children: [i, "%"],
                                    }),
                                  ],
                                }),
                        }),
                        placement: "top",
                        children: e.jsx(xt, { boxSize: 4, index: 0 }),
                      }),
                      e.jsx(xt, {
                        bgColor: k,
                        boxSize: 3,
                        index: 1,
                        sx: { pointerEvents: "none" },
                      }),
                      e.jsx(_, {
                        onClick: () => r(0),
                        sx: {
                          w: 4,
                          h: 4,
                          borderRadius: "50%",
                          bg: "textSecondary",
                          position: "absolute",
                          top: "50%",
                          transform: "translateY(-50%)",
                          left: "-8px",
                        },
                      }),
                      e.jsx(_, {
                        onClick: () => r(1),
                        sx: {
                          w: 4,
                          h: 4,
                          borderRadius: "50%",
                          bg: i > 0 ? "textSecondary" : k,
                          position: "absolute",
                          top: "50%",
                          transform: "translateY(-50%)",
                          left: `calc(${He}% - 7px)`,
                        },
                      }),
                    ],
                  }),
                }),
              }),
            }),
          ],
        });
      };
    function ns(t, a) {
      let n = as,
        i = 100 - a * n;
      for (; n > 0 && t > i; ) (n -= 1), (i = 100 - a * n);
      return i;
    }
    const is = ({
      route: t,
      onSettingsChange: a,
      setIsChainflipBoostEnable: n,
      outputAmount: i,
      outputAsset: r,
      minReceive: l,
      defaultInterval: c,
      canStreamSwap: o,
      streamingSwapParams: f,
      streamSwap: S,
      isChainflip: m,
      isChainflipBoostEnable: h = !1,
      noSlipProtection: k,
    }) => {
      var ae, A;
      const {
          isActive: C,
          contentRef: v,
          toggle: p,
          maxHeightStyle: u,
        } = un({}),
        { slippageTolerance: w, setSlippage: I } = Ie(),
        b =
          ((ae = t == null ? void 0 : t.streamingSwap) == null
            ? void 0
            : ae.maxQuantity) || 0,
        R =
          ((A = t == null ? void 0 : t.streamingSwap) == null
            ? void 0
            : A.maxIntervalForMaxQuantity) || 10,
        W = s.useMemo(() => Kt({ maxQuantity: b }), [b]),
        E = s.useMemo(
          () => Kt({ minQuantity: c, maxQuantity: R, maxSteps: 5 }),
          [c, R]
        ),
        [H, P] = s.useState(50),
        [X, z] = s.useState(!1),
        [L, se] = s.useState(!1),
        oe = Yt({
          streamingSwapParams: f,
          timeEstimates: t == null ? void 0 : t.estimatedTime,
          streamSwap: S,
          useMaxTime: H === 100,
        }),
        K = s.useMemo(() => {
          const Q = W.map((U, j) => ({
            label: null,
            subswaps: U,
            interval: c,
            value: Math.floor((50 / W.length) * (j + 1)),
          }));
          Q.unshift({
            label: "Streaming swap turned off",
            subswaps: 0,
            interval: 0,
            value: 0,
          });
          const M = E.map((U, j) => ({
            label: null,
            subswaps: b,
            interval: U,
            value: Math.floor(50 + (50 / E.length) * (j + 1)),
          }));
          return [...Q, ...M];
        }, [E, W, c, b]),
        xe = K.map((Q) => Q.value),
        O = s.useMemo(() => K.find((Q) => H === Q.value), [K, H]),
        q = s.useCallback(
          (Q) => {
            I(Q);
          },
          [I]
        ),
        ie = s.useCallback(
          (Q) => {
            n == null || n(Q);
          },
          [n]
        ),
        Y = (Q) => {
          const M = xe.reduce(
            (U, j) => (Math.abs(j - Q) < Math.abs(U - Q) ? j : U),
            0
          );
          P(M);
        };
      return (
        s.useEffect(() => {
          P(50);
        }, [o, t == null ? void 0 : t.path]),
        s.useEffect(() => {
          O && (a == null || a({ interval: O.interval, subswaps: O.subswaps }));
        }, [a, O]),
        e.jsx(_, {
          w: "100%",
          children: e.jsxs(dn, {
            gap: 1,
            p: 3,
            sx: { w: "full", borderRadius: 16 },
            variant: "filledContainerTertiary",
            children: [
              e.jsxs(_, {
                className: "justify-between",
                ml: 2,
                mt: 1,
                onClick: p,
                sx: { cursor: "pointer" },
                children: [
                  e.jsxs(_, {
                    alignItems: "center",
                    direction: "row",
                    gap: 2,
                    children: [
                      e.jsx(ce, {
                        color: "secondary",
                        name: "settings",
                        size: 18,
                      }),
                      e.jsx(d, {
                        color: "textSecondary",
                        fontWeight: "semibold",
                        textStyle: "caption",
                        children: x("views.swap.swapSettings"),
                      }),
                    ],
                  }),
                  e.jsxs(_, {
                    alignItems: "center",
                    gap: 1,
                    children: [
                      k && !m
                        ? e.jsx(d, {
                            color: "textSecondary",
                            fontWeight: "semibold",
                            ml: 2,
                            textStyle: "caption",
                            children: x("views.swap.noPriceProtection"),
                          })
                        : e.jsx(e.Fragment, {
                            children: m
                              ? e.jsxs(_, {
                                  alignItems: "center",
                                  direction: "row",
                                  children: [
                                    e.jsx(ce, { name: "chainflipBoost" }),
                                    e.jsx(d, {
                                      color: "textSecondary",
                                      fontWeight: "semibold",
                                      textStyle: "caption",
                                      children: "Boost Available",
                                    }),
                                    e.jsx(Ae, {
                                      content: x("views.swap.chainflipBoost"),
                                      place: "bottom",
                                      children: e.jsx(It, {
                                        to: pn,
                                        children: e.jsx(ce, {
                                          className: "ml-1",
                                          color: "secondary",
                                          name: "infoCircle",
                                          size: 18,
                                        }),
                                      }),
                                    }),
                                  ],
                                })
                              : e.jsx(d, {
                                  color: "textSecondary",
                                  fontWeight: "semibold",
                                  ml: 2,
                                  textStyle: "caption",
                                  children: `${w}% Price Protection`,
                                }),
                          }),
                      e.jsx(ce, {
                        className: Pe("transform duration-300 ease -mr-2", {
                          "-rotate-180": C,
                        }),
                        color: "secondary",
                        name: "chevronDown",
                      }),
                    ],
                  }),
                ],
              }),
              e.jsx("div", {
                className: Pe("w-full", mn),
                style: u,
                children: e.jsx(_, {
                  direction: "column",
                  ref: v,
                  children: e.jsxs(_, {
                    direction: "column",
                    mt: 2,
                    children: [
                      o &&
                        e.jsxs(e.Fragment, {
                          children: [
                            e.jsxs(_, {
                              pb: 1,
                              children: [
                                e.jsx(d, {
                                  color: "textSecondary",
                                  fontWeight: "semibold",
                                  ml: 2,
                                  textStyle: "caption",
                                  children: x("views.swap.streamingSettings"),
                                }),
                                e.jsx(Ae, {
                                  content: x(
                                    "views.swap.priceOptimizationInfo"
                                  ),
                                  onClick: () => xn(gn),
                                  place: "bottom",
                                  children: e.jsx(ce, {
                                    className: "ml-1",
                                    color: "secondary",
                                    name: "infoCircle",
                                    size: 18,
                                  }),
                                }),
                              ],
                            }),
                            e.jsx(_, {
                              flex: 1,
                              gap: 1,
                              mt: 1,
                              onMouseEnter: () => z(!0),
                              onMouseLeave: () => z(!1),
                              children: e.jsxs(_, {
                                direction: "column",
                                w: "100%",
                                children: [
                                  e.jsx(_, {
                                    gap: 2.5,
                                    mx: 4,
                                    children: e.jsxs(Jn, {
                                      onChange: (Q) => Y(Q),
                                      onChangeEnd: () => se(!1),
                                      onChangeStart: () => se(!0),
                                      size: "lg",
                                      value: H,
                                      children: [
                                        e.jsx(Zn, {
                                          bg: "textSecondary",
                                          boxSize: 2,
                                          children: e.jsx(ei, {
                                            bg:
                                              H > 50
                                                ? "brand.yellow"
                                                : "brand.btnSecondary",
                                            boxSize: 2,
                                            width: "50%",
                                          }),
                                        }),
                                        e.jsx(ya, {
                                          hasArrow: !0,
                                          bg: "bgPrimary",
                                          isOpen: X || L,
                                          label: e.jsx(Fa, {
                                            p: 1,
                                            children:
                                              O != null && O.label
                                                ? e.jsx(d, {
                                                    textStyle: "caption-xs",
                                                    children:
                                                      O == null
                                                        ? void 0
                                                        : O.label,
                                                  })
                                                : e.jsxs(e.Fragment, {
                                                    children: [
                                                      e.jsxs(_, {
                                                        children: [
                                                          e.jsx(d, {
                                                            textStyle:
                                                              "caption-xs",
                                                            variant:
                                                              "secondary",
                                                            children:
                                                              "Number of subswaps: \xA0",
                                                          }),
                                                          e.jsx(d, {
                                                            textStyle:
                                                              "caption-xs",
                                                            children:
                                                              O == null
                                                                ? void 0
                                                                : O.subswaps,
                                                          }),
                                                        ],
                                                      }),
                                                      e.jsxs(_, {
                                                        children: [
                                                          e.jsx(d, {
                                                            textStyle:
                                                              "caption-xs",
                                                            variant:
                                                              "secondary",
                                                            children:
                                                              "Interval: \xA0",
                                                          }),
                                                          e.jsxs(d, {
                                                            textStyle:
                                                              "caption-xs",
                                                            children: [
                                                              O == null
                                                                ? void 0
                                                                : O.interval,
                                                              " blocks",
                                                            ],
                                                          }),
                                                        ],
                                                      }),
                                                    ],
                                                  }),
                                          }),
                                          placement: "top",
                                          children: e.jsx(ti, { boxSize: 4 }),
                                        }),
                                        e.jsx(_, {
                                          sx: {
                                            w: 3,
                                            h: 3,
                                            borderRadius: "50%",
                                            bg:
                                              H > 50
                                                ? "brand.yellow"
                                                : "brand.btnSecondary",
                                            position: "absolute",
                                            top: "50%",
                                            transform: "translateY(-50%)",
                                            left: "-8px",
                                          },
                                        }),
                                        e.jsx(_, {
                                          sx: {
                                            w: 4,
                                            h: 4,
                                            borderRadius: "50%",
                                            bg:
                                              H > 50
                                                ? "brand.yellow"
                                                : "textSecondary",
                                            position: "absolute",
                                            top: "50%",
                                            transform: "translateY(-50%)",
                                            left: "calc(50% - 7px)",
                                          },
                                        }),
                                        e.jsx(_, {
                                          sx: {
                                            w: 3,
                                            h: 3,
                                            borderRadius: "50%",
                                            backgroundColor: "textSecondary",
                                            position: "absolute",
                                            top: "50%",
                                            transform: "translateY(-50%)",
                                            right: "-8px",
                                          },
                                        }),
                                      ],
                                    }),
                                  }),
                                  e.jsxs(_, {
                                    flex: 1,
                                    justify: "space-between",
                                    mt: 1,
                                    children: [
                                      e.jsx(_, {
                                        children: e.jsx(Ce, {
                                          onClick: () => Y(0),
                                          size: "xs",
                                          sx: { px: 2 },
                                          variant: "borderlessPrimary",
                                          children: x("views.swap.fastest"),
                                        }),
                                      }),
                                      e.jsx(_, {
                                        children: e.jsx(Ce, {
                                          onClick: () => Y(50),
                                          size: "xs",
                                          variant: "borderlessPrimary",
                                          children: x("views.swap.optimal"),
                                        }),
                                      }),
                                      e.jsx(_, {
                                        children: e.jsx(Ce, {
                                          onClick: () => Y(100),
                                          size: "xs",
                                          sx: { px: 2 },
                                          variant: "borderlessPrimary",
                                          children: x("views.swap.slowest"),
                                        }),
                                      }),
                                    ],
                                  }),
                                ],
                              }),
                            }),
                          ],
                        }),
                      m || k
                        ? e.jsxs(_, {
                            direction: "column",
                            children: [
                              e.jsxs(_, {
                                flex: 1,
                                flexWrap: "wrap",
                                mb: 2,
                                ml: 2,
                                children: [
                                  e.jsx(d, {
                                    color: "textSecondary",
                                    fontWeight: "semibold",
                                    textStyle: "caption",
                                    children: m
                                      ? x("common.slippageSettingsChainflip")
                                      : x("views.swap.noPriceProtection"),
                                  }),
                                  e.jsx(Ae, {
                                    content: m
                                      ? x("common.slippageTooltipChainflip")
                                      : x(
                                          "views.swap.noPriceProtectionTooltip"
                                        ),
                                    place: "bottom",
                                    children: e.jsx(ce, {
                                      className: "ml-1",
                                      color: "secondary",
                                      name: "infoCircle",
                                      size: 18,
                                    }),
                                  }),
                                ],
                              }),
                              m &&
                                e.jsxs(_, {
                                  justifyContent: "space-between",
                                  className: "gap-x-2 w-full rounded-2xl",
                                  mb: 2,
                                  px: 2,
                                  children: [
                                    e.jsxs(_, {
                                      alignItems: "center",
                                      direction: "row",
                                      children: [
                                        e.jsx(ce, { name: "chainflipBoost" }),
                                        e.jsx(d, {
                                          color: "textSecondary",
                                          fontWeight: "semibold",
                                          textStyle: "caption",
                                          children: "Activate Boost",
                                        }),
                                      ],
                                    }),
                                    e.jsx(hn, {
                                      size: "md",
                                      checked: h,
                                      onChange: ie,
                                      variant: "secondary",
                                    }),
                                  ],
                                }),
                            ],
                          })
                        : e.jsx(ss, {
                            outputAmount: i,
                            outputAsset: r,
                            route: t,
                            setSlippagePercent: q,
                            slippagePercent: w,
                          }),
                      e.jsxs(_, {
                        flex: 1,
                        flexWrap: "wrap",
                        ml: 2,
                        children: [
                          e.jsxs(_, {
                            direction: "column",
                            flex: 1,
                            children: [
                              e.jsx(d, {
                                color: "textSecondary",
                                fontWeight: "semibold",
                                textStyle: "caption-xs",
                                children: "Receive at least:",
                              }),
                              e.jsx(d, {
                                color:
                                  w === 0 || (k && !m)
                                    ? "brand.yellow"
                                    : "textPrimary",
                                textStyle: "caption-xs",
                                children:
                                  w === 0 || (k && !m)
                                    ? x("views.swap.noProtection")
                                    : `${l.toCurrency("")} ${
                                        (r == null ? void 0 : r.ticker) || ""
                                      }`,
                              }),
                            ],
                          }),
                          e.jsxs(_, {
                            flex: 1,
                            flexDirection: "column",
                            children: [
                              e.jsx(d, {
                                color: "textSecondary",
                                fontWeight: "semibold",
                                textStyle: "caption-xs",
                                children: "Estimated:",
                              }),
                              e.jsx(_, {
                                children: e.jsxs(d, {
                                  color:
                                    H < 50
                                      ? "brand.yellow"
                                      : H > 50
                                      ? "brand.green"
                                      : "textPrimary",
                                  textStyle: "caption-xs",
                                  children: [
                                    i.toCurrency(""),
                                    " ",
                                    (r == null ? void 0 : r.ticker) || "",
                                  ],
                                }),
                              }),
                            ],
                          }),
                          e.jsxs(_, {
                            flex: 1,
                            flexDirection: "column",
                            children: [
                              e.jsx(d, {
                                color: "textSecondary",
                                fontWeight: "semibold",
                                textStyle: "caption-xs",
                                children: "Time:",
                              }),
                              e.jsx(_, {
                                children: e.jsx(d, {
                                  color:
                                    H > 50 ? "brand.yellow" : "textPrimary",
                                  textStyle: "caption-xs",
                                  children: oe ? fa(oe) : "n/a",
                                }),
                              }),
                            ],
                          }),
                        ],
                      }),
                      H > 50 &&
                        w > 0 &&
                        e.jsxs(g, {
                          row: !0,
                          className: "w-full my-3 px-2",
                          children: [
                            e.jsx(ce, {
                              color: "yellow",
                              name: "infoCircle",
                              size: 26,
                            }),
                            " ",
                            e.jsx(d, {
                              className: "ml-2",
                              color: "brand.yellow",
                              fontWeight: "medium",
                              textStyle: "caption",
                              children: x(
                                "views.swap.slippageMarketRateWarning"
                              ),
                            }),
                          ],
                        }),
                    ],
                  }),
                }),
              }),
            ],
          }),
        })
      );
    };
    function Kt({ minQuantity: t = 0, maxQuantity: a, maxSteps: n = 5 }) {
      const i = Math.min(a - t, n),
        r = Math.floor((a - t) / i),
        l = Array.from({ length: i - 1 }, (c, o) => o * r + (t ? r : 1));
      return l.push(a), l;
    }
    const rs = ({ inputAsset: t }) =>
        e.jsxs(e.Fragment, {
          children: [
            e.jsxs(d, {
              textStyle: "caption",
              variant: "yellow",
              children: [
                "Are you looking for LIGHTSwap AI's protocol token ",
                e.jsx(It, {
                  className: "text-twitter-blue",
                  to: lt(t, fe.fromChainOrSignature("ETH.THOR")),
                  children: "$THOR (Ethereum ERC-20)?",
                }),
              ],
            }),
            e.jsx(d, { textStyle: "caption-xs", children: "\xA0" }),
            e.jsx(d, {
              textStyle: "caption",
              variant: "yellow",
              children:
                "You have selected $THOR token ticker on Avalanche C-Chain. Thor Financial is a different unaffiliated project based on the Avalanche network. ",
            }),
          ],
        }),
      os = ["THORCHAIN"],
      ls = ({
        selectedRoute: t,
        noPriceProtection: a,
        inputAmount: n,
        outputAsset: i,
        isChainflip: r,
        noSlipProtection: l,
      }) => {
        var X, z, L, se, oe, K, xe;
        const c =
            !!(t != null && t.providers[0]) &&
            os.includes(t == null ? void 0 : t.providers[0]),
          o = s.useMemo(
            () => (i.decimal && i.decimal < 0 ? 18 : i.decimal),
            [i.decimal]
          ),
          f = s.useMemo(
            () => (t != null && t.memo ? t.memo.split(":").length >= 8 : !1),
            [t == null ? void 0 : t.memo]
          ),
          [S, m] = s.useState(!1),
          [h, k] = s.useState(null),
          C =
            ((X = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : X.maxQuantity) &&
            ((z = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : z.maxIntervalForMaxQuantity),
          v =
            ((L = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : L.memo) || "",
          { setSlippage: p, slippageTolerance: u } = Ie(),
          w = s.useMemo(() => !a && !!v, [v, a]),
          I = s.useCallback((O) => m(O && !!w), [w]),
          b = s.useMemo(() => {
            const O = cs(v, 3);
            return (O && Number(O.split("/")[1])) || 3;
          }, [v]),
          R = s.useMemo(() => {
            var A, Q, M, U;
            const O = new pe({
              value:
                ((A = t == null ? void 0 : t.streamingSwap) == null
                  ? void 0
                  : A.expectedBuyAmount) || 0,
              decimal: o,
            });
            if (!h) return O;
            if (h.subswaps === 0 || !S) return new pe({ value: 0, decimal: o });
            const q =
                (Q = t == null ? void 0 : t.streamingSwap) != null &&
                Q.maxQuantity
                  ? h.subswaps /
                    ((M = t == null ? void 0 : t.streamingSwap) == null
                      ? void 0
                      : M.maxQuantity)
                  : 1,
              ie = new pe({
                value:
                  ((U = t == null ? void 0 : t.streamingSwap) == null
                    ? void 0
                    : U.savingsInAsset) || 0,
                decimal: o,
              }),
              Y = ie.mul(q),
              ae = ie.sub(Y);
            return O.sub(ae);
          }, [
            o,
            (se = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : se.expectedBuyAmount,
            (oe = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : oe.maxQuantity,
            (K = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : K.savingsInAsset,
            S,
            h,
          ]),
          W = s.useMemo(() => {
            const O = new pe({
              value: (t == null ? void 0 : t.expectedOutput) || 0,
              decimal: o,
            });
            return !t || n.getValue("number") === 0
              ? new pe({ value: 0, decimal: o })
              : S && R.gt(0)
              ? R
              : O;
          }, [t, o, n, S, R]),
          E = s.useMemo(() => W.mul(1 - (r ? 5 : u) / 100), [W, u, r]),
          H = s.useMemo(() => {
            var O;
            return S &&
              (O = t == null ? void 0 : t.streamingSwap) != null &&
              O.fees
              ? t.streamingSwap.fees
              : t == null
              ? void 0
              : t.fees;
          }, [
            t == null ? void 0 : t.fees,
            (xe = t == null ? void 0 : t.streamingSwap) == null
              ? void 0
              : xe.fees,
            S,
          ]);
        s.useEffect(() => {
          h && I(!!h.subswaps);
        }, [h, I]);
        const P = s.useMemo(() => {
          var Q, M;
          if (!t || f) return t;
          const O = u
              ? pe
                  .shiftDecimals({ value: E, from: o || ct.THOR, to: ct.THOR })
                  .getValue("bigint")
                  .toString()
              : "0",
            q =
              (Q = t == null ? void 0 : t.streamingSwap) == null
                ? void 0
                : Q.maxQuantity,
            ie =
              (h == null ? void 0 : h.subswaps) === q && c
                ? 0
                : h == null
                ? void 0
                : h.subswaps,
            Y =
              Gt(v, {
                minAmount: O,
                interval: h == null ? void 0 : h.interval,
                subswaps: ie,
              }) || ((M = t.streamingSwap) == null ? void 0 : M.memo),
            ae = Gt(t.memo, { minAmount: l ? "" : O }),
            A =
              S && t.streamingSwap
                ? { streamingSwap: { ...t.streamingSwap, memo: Y } }
                : { memo: ae };
          return { ...t, ...A };
        }, [
          t,
          f,
          u,
          E,
          v,
          h == null ? void 0 : h.interval,
          h == null ? void 0 : h.subswaps,
          l,
          S,
          o,
          c,
        ]);
        return {
          streamSwap: S,
          toggleStreamSwap: I,
          canStreamSwap: w,
          minReceive: E,
          outputAmount: W,
          fees: H,
          streamingSwapParams: h,
          setStreamingSwapParams: k,
          route: P,
          hasStreamingSettings: C,
          slippagePercent: u,
          setSlippagePercent: p,
          defaultInterval: b,
        };
      };
    function Gt(t, { minAmount: a, interval: n, subswaps: i }) {
      const r = t == null ? void 0 : t.split(":"),
        l = 3;
      if (!r || (r == null ? void 0 : r.length) < l + 1) return t;
      const c = r[l].includes("/"),
        o = r[l];
      if (c) {
        const f = a || o.split("/")[0],
          S = n || o.split("/")[1],
          m = i || o.split("/")[2];
        r[l] = `${f || "0"}/${S || "0"}/${m || "0"}`;
      } else r[l] = a || "0";
      return r.join(":");
    }
    function cs(t, a) {
      return t && a ? t.split(":")[a] : null;
    }
    const us = ({
        inputAsset: t,
        outputAsset: a,
        onInputAssetChange: n,
        onOutputAssetChange: i,
        onInputAmountChange: r,
        onSwitchPair: l,
        tokens: c,
        tradingPairs: o,
      }) => {
        var b, R, W;
        const [f, S] = s.useState(!1),
          m = si("tokens"),
          h = s.useCallback(() => {
            l(), S((E) => !E);
          }, [l]),
          k = Ra(c),
          C = Ra((o == null ? void 0 : o.tokens) || c),
          { assetInputProps: v, assets: p } = Oa(k),
          { assetInputProps: u, assets: w } = Oa(C),
          I = s.useMemo(
            () =>
              !(m != null && m.length) ||
              (t.asset.chain === Z.Ethereum && a.asset.chain === Z.Ethereum) ||
              (t.asset.chain === Z.Avalanche &&
                a.asset.chain === Z.Avalanche) ||
              (t.asset.chain === Z.BinanceSmartChain &&
                a.asset.chain === Z.BinanceSmartChain) ||
              t.asset.isGasAsset
                ? w
                : w.filter(({ asset: E }) => {
                    var H;
                    return (
                      ut(E) ||
                      Ot(E) ||
                      fn(E) ||
                      ![Z.Ethereum, Z.Avalanche, Z.BinanceSmartChain].includes(
                        E == null ? void 0 : E.chain
                      ) ||
                      m.includes(
                        (H = E.symbol.split("-")[1]) == null
                          ? void 0
                          : H.toLowerCase()
                      )
                    );
                  }),
            [
              w,
              (b = t.asset) == null ? void 0 : b.chain,
              (R = t.asset) == null ? void 0 : R.isGasAsset,
              (W = a.asset) == null ? void 0 : W.chain,
              m,
            ]
          );
        return e.jsxs("div", {
          className: "relative self-stretch md:w-full",
          children: [
            e.jsx(g, {
              center: !0,
              className: Pe(
                "absolute mt-2.5 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
              ),
              children: e.jsx(g, {
                center: !0,
                className: Pe(
                  "cursor-pointer hover:brightness-125",
                  "absolute -mt-0.5 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",
                  "p-1 md:p-2 rounded-xl md:rounded-[18px]",
                  "border-10 border-solid bg-blue dark:border-dark-border-primary border-transparent transition"
                ),
                onClick: h,
                children: e.jsx(ce, {
                  className: Pe("p-1 transition-all", { "-scale-x-100": f }),
                  color: "white",
                  name: "arrowDown",
                  size: 20,
                }),
              }),
            }),
            e.jsx(Ia, {
              ...v,
              hideZeroPrice: !0,
              assets: p,
              className: "!mb-1 flex-1 h-[100px]",
              onAssetChange: n,
              onValueChange: r,
              selectedAsset: t,
            }),
            e.jsx(Ia, {
              ...u,
              hideMaxButton: !0,
              hideZeroPrice: !0,
              assets: I,
              className: "h-[90px]",
              onAssetChange: i,
              selectedAsset: a,
            }),
          ],
        });
      },
      ds = s.memo(us),
      ps = ({ onConfirmChange: t }) => {
        const [a, n] = Sn("chainflipSlippageConfirmed", !1);
        return (
          s.useEffect(() => {
            t(a);
          }, [a, t]),
          e.jsx(va, {
            className: "pt-4 pb-2",
            label: e.jsx(g, {
              alignCenter: !0,
              children: e.jsx(d, {
                textStyle: "caption-xs",
                children: x("views.swap.chainflipSlippageWarning"),
              }),
            }),
            onValueChange: n,
            value: a,
          })
        );
      },
      ms = s.memo(
        ({
          setConfirmedSlippage: t,
          slipHigherThanTolerance: a,
          confirmedSlippage: n,
          inputAsset: i,
          outputAsset: r,
          recipient: l,
          estimatedTime: c,
          slippagePercent: o,
          minReceive: f,
          totalFee: S,
          streamSwap: m,
          affiliateFee: h,
          liquidityFee: k,
          networkFee: C,
          feeAssets: v,
          swapMemo: p,
          isChainflip: u,
          referrer: w,
        }) => {
          var b, R;
          const I = s.useMemo(() => wn(yn(p)), [p]);
          return e.jsxs(e.Fragment, {
            children: [
              m &&
                e.jsx(_, {
                  _groupHover: { bgColor: "transparent" },
                  align: "center",
                  bgColor: "brand.btnSecondary",
                  borderRadius: "xl",
                  h: 4,
                  justify: "center",
                  position: "absolute",
                  px: 4,
                  right: -3,
                  top: 8,
                  transform: "rotate(48deg)",
                  w: 24,
                  children: e.jsx(d, {
                    _groupHover: { color: "white" },
                    fontSize: "12px",
                    fontWeight: 500,
                    lineHeight: "16px",
                    children: "Beta",
                  }),
                }),
              e.jsxs(g, {
                col: !0,
                children: [
                  e.jsxs(g, {
                    alignCenter: !0,
                    row: !0,
                    justify: "between",
                    children: [
                      e.jsxs(g, {
                        center: !0,
                        col: !0,
                        className: "flex-1 p-4 rounded-2xl",
                        children: [
                          e.jsx(De, { asset: i.asset }),
                          e.jsx(g, {
                            center: !0,
                            className: "pt-2",
                            children: e.jsx(Ma, { asset: i.asset }),
                          }),
                          e.jsx(g, {
                            center: !0,
                            className: "w-full",
                            children: e.jsxs(d, {
                              fontWeight: "medium",
                              textStyle: "caption",
                              children: [
                                (b = i.value) == null
                                  ? void 0
                                  : b.toSignificant(6),
                                " ",
                                i.asset.ticker,
                              ],
                            }),
                          }),
                        ],
                      }),
                      e.jsx(ce, {
                        className: "mx-2 -rotate-90",
                        name: "arrowDown",
                      }),
                      e.jsxs(g, {
                        center: !0,
                        col: !0,
                        className: "flex-1 p-4 rounded-2xl",
                        children: [
                          e.jsx(De, { asset: r.asset }),
                          e.jsx(g, {
                            center: !0,
                            className: "pt-2",
                            children: e.jsx(Ma, { asset: r.asset }),
                          }),
                          e.jsx(g, {
                            center: !0,
                            className: "w-full",
                            children: e.jsxs(d, {
                              fontWeight: "medium",
                              textStyle: "caption",
                              children: [
                                (R = r.value) == null
                                  ? void 0
                                  : R.toSignificant(6),
                                " ",
                                r.asset.ticker,
                              ],
                            }),
                          }),
                        ],
                      }),
                    ],
                  }),
                  e.jsxs(g, {
                    col: !0,
                    className:
                      "w-full py-4 border border-solid rounded-2xl border-light-border-primary dark:border-dark-border-primary",
                    children: [
                      e.jsxs(g, {
                        row: !0,
                        className: "w-full",
                        children: [
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("common.estimateTime"),
                              }),
                              e.jsx(d, { textStyle: "caption", children: c }),
                            ],
                          }),
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("common.maxSlippage"),
                              }),
                              e.jsxs(d, {
                                color: a ? "red" : "",
                                textStyle: "caption",
                                children: [
                                  (Math.round(o * 100) / 100).toFixed(2),
                                  "%",
                                ],
                              }),
                            ],
                          }),
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              w &&
                                e.jsx(d, {
                                  fontWeight: "medium",
                                  textStyle: "caption",
                                  className: "!text-btn-secondary opacity-80",
                                  children: "Referrer",
                                }),
                              e.jsx(d, {
                                className: "!text-btn-secondary",
                                textStyle: "caption",
                                children: w,
                              }),
                            ],
                          }),
                        ],
                      }),
                      e.jsx(g, {
                        className: "px-4",
                        children: e.jsx(g, {
                          className:
                            "w-full h-[1px] bg-light-border-primary dark:bg-dark-border-primary my-2",
                        }),
                      }),
                      e.jsxs(g, {
                        row: !0,
                        className: "w-full",
                        children: [
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("common.fee"),
                              }),
                              e.jsx(d, {
                                maxWidth: "full",
                                textStyle: "caption",
                                children: S,
                              }),
                            ],
                          }),
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("views.swap.txAssetsFee"),
                              }),
                              e.jsx(d, { textStyle: "caption", children: v }),
                            ],
                          }),
                          e.jsx(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                          }),
                        ],
                      }),
                      e.jsxs(g, {
                        row: !0,
                        className: "w-full py-2",
                        children: [
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("common.networkFee"),
                              }),
                              e.jsx(d, { textStyle: "caption", children: C }),
                            ],
                          }),
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("views.swap.exchangeFee"),
                              }),
                              e.jsx(d, {
                                className: Pe({
                                  "line-through": h === "$0.00",
                                }),
                                textStyle: "caption",
                                children:
                                  h === "$0.00" || h === "0" ? "FREE" : h,
                              }),
                            ],
                          }),
                          e.jsxs(g, {
                            center: !0,
                            col: !0,
                            className: "flex-1 gap-y-2",
                            children: [
                              e.jsx(d, {
                                fontWeight: "medium",
                                textStyle: "caption",
                                variant: "secondary",
                                children: x("common.liquidityFee"),
                              }),
                              e.jsx(d, { textStyle: "caption", children: k }),
                            ],
                          }),
                        ],
                      }),
                      e.jsx(g, {
                        className: "px-4",
                        children: e.jsx(g, {
                          className:
                            "w-full h-[1px] bg-light-border-primary dark:bg-dark-border-primary my-2",
                        }),
                      }),
                      e.jsx(g, {
                        row: !0,
                        className: "w-full",
                        children: e.jsxs(g, {
                          center: !0,
                          col: !0,
                          className: "flex-1 gap-y-2 px-4 w-[100%]",
                          children: [
                            e.jsx(d, {
                              fontWeight: "medium",
                              textStyle: "caption",
                              variant: "secondary",
                              children: x("common.recipient"),
                            }),
                            e.jsx(d, {
                              maxWidth: "full",
                              textStyle: "caption",
                              children: l,
                            }),
                          ],
                        }),
                      }),
                      (p == null ? void 0 : p.length) > 0 &&
                        e.jsxs(e.Fragment, {
                          children: [
                            e.jsx(g, {
                              className: "px-4",
                              children: e.jsx(g, {
                                className:
                                  "w-full h-[1px] bg-light-border-primary dark:bg-dark-border-primary my-2",
                              }),
                            }),
                            e.jsx(g, {
                              row: !0,
                              className: "w-full",
                              children: e.jsxs(g, {
                                center: !0,
                                col: !0,
                                className: "flex-1 gap-y-2 px-4 w-[100%]",
                                children: [
                                  e.jsx(d, {
                                    fontWeight: "medium",
                                    textStyle: "caption",
                                    variant: "secondary",
                                    children: x("common.memo"),
                                  }),
                                  e.jsx(Ae, {
                                    content: p,
                                    children: e.jsx(d, {
                                      maxWidth: "full",
                                      textStyle: "caption",
                                      children: ba(p, 20),
                                    }),
                                  }),
                                ],
                              }),
                            }),
                            e.jsx(g, {
                              className: "px-4",
                              children: e.jsx(g, {
                                className:
                                  "w-full h-[1px] bg-light-border-primary dark:bg-dark-border-primary my-2",
                              }),
                            }),
                            e.jsx(g, {
                              row: !0,
                              className: "w-full",
                              children: e.jsxs(g, {
                                center: !0,
                                col: !0,
                                className: "flex-1 gap-y-2 px-4 w-[100%]",
                                children: [
                                  e.jsx(d, {
                                    fontWeight: "medium",
                                    textStyle: "caption",
                                    variant: "secondary",
                                    children: x("common.memoHex"),
                                  }),
                                  e.jsx(Ae, {
                                    content: I,
                                    children: e.jsx(d, {
                                      maxWidth: "100%",
                                      textStyle: "caption",
                                      children: ba(I, 20),
                                    }),
                                  }),
                                ],
                              }),
                            }),
                          ],
                        }),
                      !m &&
                        e.jsxs(e.Fragment, {
                          children: [
                            e.jsx(g, {
                              className: "px-4",
                              children: e.jsx(g, {
                                className:
                                  "w-full h-[1px] bg-light-border-primary dark:bg-dark-border-primary my-2",
                              }),
                            }),
                            e.jsx(g, {
                              row: !0,
                              className: "w-full",
                              children: e.jsxs(g, {
                                center: !0,
                                col: !0,
                                className: "flex-1 gap-y-2",
                                children: [
                                  e.jsx(d, {
                                    fontWeight: "medium",
                                    textStyle: "caption",
                                    variant: "secondary",
                                    children: x("common.minReceived"),
                                  }),
                                  o === 0
                                    ? e.jsx(d, {
                                        color: "brand.yellow",
                                        textStyle: "caption",
                                        children: x("views.swap.noProtection"),
                                      })
                                    : e.jsx(d, {
                                        textStyle: "caption",
                                        children: f,
                                      }),
                                ],
                              }),
                            }),
                          ],
                        }),
                    ],
                  }),
                  a &&
                    !u &&
                    e.jsx(va, {
                      className: "pt-4 pb-2",
                      label: e.jsx(g, {
                        alignCenter: !0,
                        children: e.jsx(d, {
                          children: x("views.swap.slippageConfirmationWarning"),
                        }),
                      }),
                      onValueChange: t,
                      value: n,
                    }),
                  u && e.jsx(ps, { onConfirmChange: t }),
                ],
              }),
            ],
          });
        }
      ),
      xs = s.memo(
        ({
          affiliateFee: t,
          liquidityFee: a,
          networkFee: n,
          estimatedTime: i,
          feeAssets: r,
          handleSwap: l,
          inputAssetProps: c,
          minReceive: o,
          outputAssetProps: f,
          recipient: S,
          setVisible: m,
          slippagePercent: h,
          totalFee: k,
          visible: C,
          streamSwap: v,
          selectedRoute: p,
          isChainflip: u,
          referrer: w,
        }) => {
          const [I] = vn(),
            { getWalletAddress: b } = Xe(),
            [R, W] = s.useState(!0),
            E = Rt(({ app: Y }) => Y.slippageTolerance),
            H = s.useMemo(() => h > E, [h, E]),
            [P, X] = s.useState(!1),
            { asset: z } = c,
            { asset: L } = f,
            [se, oe] = s.useState(!1);
          s.useEffect(() => {
            C || oe(!1);
          }, [C]);
          const K = s.useMemo(() => b(z.chain), [b, z.chain]),
            xe = s.useMemo(() => [K, S], [K, S]),
            O = s.useMemo(() => {
              if (!p) return "";
              const { memo: Y, streamingSwap: ae } = p;
              return (v && ae != null && ae.memo ? ae.memo : Y) || "";
            }, [p, v]),
            q = s.useCallback(async () => {
              oe(!0);
              const { data: Y } = await I({
                  addresses: xe,
                  chains: [z.chain, L.chain],
                }),
                { list: ae } = await Qe(
                  () => import("./D0hJbDtL.js"),
                  __vite__mapDeps([0, 1, 2])
                );
              Y != null && Y.confirm && !xe.some((A) => ae.includes(A))
                ? (m(!1), l())
                : W(!1);
            }, [m, l, xe, I, z.chain, L.chain]),
            ie = s.useMemo(() => {
              const Y = i && typeof i == "object" && "total" in i ? i.total : i;
              if (!Y) return "<5s";
              const ae = Y / 1e3;
              return ae < 60 ? `<${ae}s` : `<${Math.ceil(ae / 60)}m`;
            }, [i]);
          return e.jsx(ni, {
            buttonDisabled: !R || (H && !P) || se,
            inputAssets: [z],
            isOpened: C,
            onClose: () => m(!1),
            onConfirm: q,
            children: e.jsx(ms, {
              affiliateFee: t,
              confirmedSlippage: P,
              estimatedTime: ie,
              feeAssets: r,
              inputAsset: c,
              isChainflip: u,
              liquidityFee: a,
              minReceive: o,
              networkFee: n,
              outputAsset: f,
              recipient: S,
              setConfirmedSlippage: X,
              slipHigherThanTolerance: H,
              slippagePercent: h,
              streamSwap: v,
              swapMemo: O,
              totalFee: k,
              referrer: w,
            }),
          });
        }
      ),
      hs = s.memo(
        ({ className: t, size: a = 24, duration: n = 10, refresh: i }) => {
          const { themeType: r } = Ie(),
            { refetch: l } = Nt(),
            c = s.useRef(!1),
            o = s.useRef(setTimeout(() => {}, 0)),
            f = r === bn.Light,
            S = f ? "#E6E9F5" : "#273855",
            m = f ? "#7C859F" : "#75849D",
            h = a / 2,
            k = a * Math.PI,
            [C, v] = s.useState(n),
            p = k - ((C * 1e3) / (n * 1e3)) * k,
            u = s.useCallback(() => {
              c.current ||
                ((c.current = !0),
                clearInterval(o.current),
                (o.current = setInterval(() => {
                  v((R) => (R > 1 ? R - 1 : (i == null || i(), l(), n)));
                }, 1e3)));
            }, [n, i, l]),
            w = s.useCallback(() => {
              i == null || i(), l(), v(n);
            }, [n, i, l]);
          s.useEffect(() => {
            v(n), (c.current = !i), i ? u() : clearInterval(o.current);
          }, [u, n, i]);
          const I = s.useMemo(() => ({ height: a, width: a }), [a]),
            b = "left-1.5 top-1.5 absolute w-full h-full overflow-visible";
          return e.jsx(Ae, {
            content: x("common.refresh"),
            place: "top",
            children: e.jsxs(g, {
              center: !0,
              className: Pe("m-auto relative -rotate-90 box-content", jn, t),
              onClick: w,
              style: I,
              children: [
                e.jsx(d, {
                  className: "rotate-90",
                  textStyle: "caption-xs",
                  children: C.toFixed(),
                }),
                e.jsx("svg", {
                  className: b,
                  children: e.jsx("circle", {
                    cx: h,
                    cy: h,
                    fill: "none",
                    r: h,
                    stroke: S,
                    strokeWidth: 2,
                  }),
                }),
                e.jsx("svg", {
                  className: b,
                  children: e.jsx("circle", {
                    cx: h,
                    cy: h,
                    fill: "none",
                    r: h,
                    stroke: m,
                    strokeDasharray: k,
                    strokeDashoffset: p,
                    strokeLinecap: "round",
                    strokeWidth: 2,
                  }),
                }),
              ],
            }),
          });
        }
      ),
      gs = ({ isSidebarVisible: t, inputAssetChain: a, toggleSidebar: n }) => {
        var f, S, m, h, k, C;
        const { data: i } = Nt(),
          r = a,
          l = s.useMemo(() => {
            var u;
            if (!i) return;
            const v =
                (u = i.find((w) => w && w.chainId === Ft[r])) == null
                  ? void 0
                  : u.history.map((w) => w.value).filter(Boolean),
              p = i.find((w) => w && w.chainId === Ft[r]);
            return { values: v, historyData: p };
          }, [i, r]),
          c =
            (m = ht(
              l == null ? void 0 : l.values,
              ((f = l == null ? void 0 : l.historyData) == null
                ? void 0
                : f.average7d) ||
                ((S = l == null ? void 0 : l.historyData) == null
                  ? void 0
                  : S.average24h)
            )) == null
              ? void 0
              : m.state,
          o =
            (C = ht(
              l == null ? void 0 : l.values,
              ((h = l == null ? void 0 : l.historyData) == null
                ? void 0
                : h.average7d) ||
                ((k = l == null ? void 0 : l.historyData) == null
                  ? void 0
                  : k.average24h)
            )) == null
              ? void 0
              : C.color;
        return e.jsx(e.Fragment, {
          children: e.jsx(Ce, {
            className: "group",
            leftIcon: e.jsx(ce, {
              className:
                "group-hover:!text-light-typo-primary dark:group-hover:!text-dark-typo-primary",
              color: o,
              name: t ? "gasStationOff" : "gasStation",
            }),
            onClick: n,
            px: "2!",
            tooltip: t
              ? x("views.swap.hideGasHistory")
              : x("views.swap.gasTooltip", { chain: r, state: c }),
            tooltipClasses: "text-center",
            tooltipPlacement: "top",
            variant: "borderlessTint",
          }),
        });
      },
      fs = s.memo(
        ({
          refetchData: t,
          toggleSidebar: a,
          isSidebarVisible: n,
          inputAssetChain: i,
        }) =>
          e.jsx(ui, {
            actionsComponent: e.jsxs(g, {
              center: !0,
              row: !0,
              className: "space-x-2",
              children: [
                t && e.jsx(hs, { duration: 60, refresh: t }),
                e.jsx(gs, {
                  inputAssetChain: i,
                  isSidebarVisible: n,
                  toggleSidebar: a,
                }),
                e.jsx(ci, { noSlippage: !0, transactionMode: !0 }),
              ],
            }),
            title: x("common.swap"),
          })
      ),
      Ss = (t) => t.charAt(0).toUpperCase() + t.slice(1).toLowerCase(),
      St = [Mt.Average, Mt.Fast, Mt.Fastest],
      ws = ({
        affiliateBasisPoints: t,
        assets: [a, n],
        expectedOutput: i,
        affiliateFee: r,
        networkFee: l,
        isLoading: c,
        streamSwap: o,
        minReceive: f,
        minReceiveSlippage: S,
        liquidityFee: m,
        setFeeModalOpened: h,
        showTransactionFeeSelect: k,
        whaleDiscount: C,
        vTHORDiscount: v,
        inputUnitPrice: p,
        outputUnitPrice: u,
      }) => {
        const { feeOptionType: w, setFeeOptionType: I } = Ie(),
          b = et(),
          [R, W] = s.useState(!1),
          E = s.useCallback((se) => {
            W((oe) => !oe), se.stopPropagation();
          }, []),
          { rateDesc: H, ratePrice: P } = s.useMemo(() => {
            const [se, oe] = [p, u].sort(() => (R ? 1 : -1)),
              [K, xe] = [a, n].sort(() => (R ? 1 : -1)),
              O = se / oe,
              q = O > 1e3 ? 4 : O > 1 ? 5 : 8,
              ie = R ? u : p;
            return {
              rateDesc: O > 0 ? `1 ${K} = ${O.toFixed(q)} ${xe}` : "-",
              ratePrice: `(${b(ie)})`,
            };
          }, [b, a, p, n, u, R]),
          X = s.useCallback(() => {
            l + r <= 0 || h(!0);
          }, [l, r, h]),
          z = s.useMemo(
            () =>
              C && v
                ? "vLSAI + \u{1F433} Whale 50% Off"
                : C
                ? "\u{1F433} Whale 50% Off"
                : v
                ? "vLSAI"
                : "",
            [v, C]
          ),
          L = s.useMemo(
            () =>
              [
                {
                  label: x("views.wallet.expectedOutput"),
                  value: e.jsx(Ke, {
                    tooltip: x("views.wallet.expectedOutputTooltip"),
                    value: i,
                  }),
                },
                o
                  ? null
                  : {
                      label: x("views.swap.minReceivedAfterSlip", {
                        slippage: S > 0 ? `${S}%` : "-",
                      }),
                      value: e.jsx(Ke, {
                        tooltip: x("views.wallet.minReceivedTooltip"),
                        value:
                          S === 0
                            ? e.jsx(d, {
                                color: "brand.yellow",
                                fontWeight: "semibold",
                                textStyle: "caption",
                                children: x("views.swap.noProtection"),
                              })
                            : f,
                      }),
                    },
                k
                  ? {
                      key: "keystoreFee",
                      label: x("common.transactionFee"),
                      value: e.jsx(di, {
                        activeIndex: St.indexOf(w),
                        dropdownPlacement: "bottom-end",
                        onChange: (se) => I(St[se]),
                        options: St.map(Ss),
                        size: "sm",
                      }),
                    }
                  : null,
                {
                  label: e.jsxs(g, {
                    center: !0,
                    className: "gap-2 group",
                    children: [
                      e.jsx(d, {
                        fontWeight: "medium",
                        textStyle: "caption",
                        variant: "secondary",
                        children: x("views.wallet.networkFee"),
                      }),
                      e.jsxs(g, {
                        center: !0,
                        children: [
                          e.jsx(d, {
                            className: "italic underline",
                            fontWeight: "normal",
                            textStyle: "caption-xs",
                            variant: "secondary",
                            children: "details",
                          }),
                          e.jsx(ce, {
                            className: "mx-1",
                            color: "secondary",
                            name: "eye",
                            size: 16,
                          }),
                        ],
                      }),
                    ],
                  }),
                  onClick: X,
                  value: e.jsx(Ke, {
                    tooltip: x("views.swap.networkFeeTooltip"),
                    value: e.jsx(g, {
                      center: !0,
                      children: e.jsx(d, {
                        textStyle: "caption",
                        children: b(l),
                      }),
                    }),
                  }),
                },
                {
                  label: x("views.swap.exchangeFee"),
                  value: e.jsx(Ke, {
                    tooltip: t
                      ? x("views.swap.affiliateFee", {
                          percent: `${(t / 100).toFixed(2)}%`,
                        })
                      : "",
                    value: e.jsxs(g, {
                      center: !0,
                      row: !0,
                      className: "gap-1",
                      children: [
                        z &&
                          e.jsxs(g, {
                            row: !0,
                            className: "gap-1",
                            children: [
                              e.jsx(d, {
                                fontWeight: "bold",
                                textStyle: "caption-xs",
                                variant: "green",
                                children: z,
                              }),
                              e.jsx(d, {
                                textStyle: "caption-xs",
                                variant: "secondary",
                                children: x("views.swap.discountApplied"),
                              }),
                            ],
                          }),
                        r
                          ? e.jsx(d, { textStyle: "caption", children: b(r) })
                          : e.jsx(d, {
                              fontWeight: "bold",
                              textStyle: "caption",
                              variant: "green",
                              children: "FREE",
                            }),
                      ],
                    }),
                  }),
                },
                {
                  label: x("views.swap.liquidityFee"),
                  value: e.jsx(Ke, {
                    tooltip: x("views.swap.liquidityFeeTooltip"),
                    value: e.jsx(g, {
                      center: !0,
                      row: !0,
                      className: "gap-1",
                      children: m
                        ? e.jsx(d, { textStyle: "caption", children: b(m) })
                        : 0,
                    }),
                  }),
                },
              ].filter(Boolean),
            [t, r, z, i, w, b, f, S, l, X, I, k, m, o]
          );
        return e.jsx(wa, {
          className:
            "self-stretch mt-5 !bg-light-bg-primary dark:!bg-dark-gray-light !rounded-2xl flex-col",
          shadow: !1,
          title: e.jsxs(g, {
            alignCenter: !0,
            className: "gap-1 flex-1",
            justify: "between",
            children: [
              e.jsx(Ce, {
                className: "!p-1 !h-auto",
                leftIcon: e.jsx(ce, { name: "switch", size: 16 }),
                onClick: E,
                tooltip: x("views.swap.swapAssets"),
                variant: "outlinePrimary",
              }),
              c
                ? e.jsx(g, {
                    alignCenter: !0,
                    className: "px-2",
                    flex: 1,
                    justify: "start",
                    children: e.jsx(ce, { spin: !0, name: "loader", size: 14 }),
                  })
                : e.jsxs(g, {
                    alignCenter: !0,
                    className: "gap-x-1 flex-wrap flex-1 pl-1",
                    children: [
                      e.jsx(g, {
                        center: !0,
                        className: "gap-1.5",
                        children: e.jsx(d, {
                          fontWeight: "normal",
                          textStyle: "caption",
                          variant: "primary",
                          children: H,
                        }),
                      }),
                      e.jsx(d, {
                        fontWeight: "normal",
                        textStyle: "caption",
                        variant: "secondary",
                        children: P,
                      }),
                    ],
                  }),
              e.jsx(g, {
                className: "pr-1",
                children: e.jsx(Ce, {
                  className: "h-[30px] px-2",
                  leftIcon: e.jsx(ce, {
                    color: "secondary",
                    name: "fees",
                    size: 18,
                  }),
                  tooltip: x("views.swap.totalFeeTooltip"),
                  variant: "tint",
                  children: e.jsx(d, { children: b(l + r + m) }),
                }),
              }),
            ],
          }),
          titleClassName: "pr-1",
          children: e.jsx(g, {
            col: !0,
            className: "w-full",
            children: e.jsx(ka, { items: L }),
          }),
        });
      },
      ys = [
        ge.THORCHAIN,
        ge.CHAINFLIP,
        ge.MAYACHAIN,
        ge.ONEINCH,
        ge.UNISWAP_V2,
        ge.UNISWAP_V3,
        ge.SUSHISWAP_V2,
        ge.MAYACHAIN_STREAMING,
        ge.CAVIAR_V1,
        ge.PANCAKESWAP,
        ge.PANGOLIN_V1,
        ge.TRADERJOE_V2,
        "OCISWAP_V1",
      ],
      vs = (t) =>
        !t || !!ys.find((a) => a.startsWith(typeof t == "string" ? t : t[0])),
      bs = "No utxos to send",
      js = "Please wait a bit until 3 UTXO confirmations and Try again.",
      As = (t) => (t.includes(bs) ? js : t),
      Cs = {
        [Se.AVAX_TO_AVAX]: me.SWAP_AVAX_TO_AVAX,
        [Se.AVAX_TO_BSC]: me.SWAP_AVAX_TO_TC,
        [Se.AVAX_TO_ETH]: me.SWAP_AVAX_TO_TC,
        [Se.AVAX_TO_TC_SUPPORTED]: me.SWAP_AVAX_TO_TC,
        [Se.BSC_TO_AVAX]: me.BSC_TRANSFER_TO_TC,
        [Se.BSC_TO_BSC]: me.SWAP_BSC_TO_BSC,
        [Se.BSC_TO_ETH]: me.SWAP_BSC_TO_ETH,
        [Se.BSC_TO_TC_SUPPORTED]: me.SWAP_BSC_TO_TC,
        [Se.ETH_TO_AVAX]: me.SWAP_ETH_TO_AVAX,
        [Se.ETH_TO_BSC]: me.SWAP_ETH_TO_TC,
        [Se.ETH_TO_ETH]: me.SWAP_ETH_TO_ETH,
        [Se.ETH_TO_TC_SUPPORTED]: me.SWAP_ETH_TO_TC,
        [Se.TC_SUPPORTED_TO_AVAX]: me.SWAP_TC_TO_AVAX,
        [Se.TC_SUPPORTED_TO_BSC]: me.SWAP_TC_TO_BSC,
        [Se.TC_SUPPORTED_TO_ETH]: me.SWAP_TC_TO_ETH,
        [Se.TC_SUPPORTED_TO_TC_SUPPORTED]: me.SWAP_TC_TO_TC,
      },
      Jt = ({ chain: t, address: a }) => {
        if (!a) return !1;
        switch (t) {
          case Z.Bitcoin:
            return !a.startsWith("bc1p");
          default:
            return !0;
        }
      },
      Ts = ({
        recipient: t = "",
        inputAsset: a,
        outputAsset: n,
        route: i,
        quoteId: r,
        streamSwap: l,
        isChainflipBoostEnable: c,
      }) => {
        const o = ja(),
          { feeOptionType: f } = Ie(),
          { wallet: S } = Xe();
        return s.useCallback(async () => {
          var h, k, C, v, p, u;
          const m = Ea();
          try {
            const w =
                (h = S == null ? void 0 : S[a.chain]) == null
                  ? void 0
                  : h.address,
              I =
                (k = i == null ? void 0 : i.providers) == null
                  ? void 0
                  : k.includes(ge.CHAINFLIP);
            if (i) {
              if (!w) throw new Error("No address found");
              const b = `${a.toSignificant(6)} ${
                  a.isSynthetic ? "Synth " : ""
                }${a.ticker} \u2192 ${n.toSignificant(6)} ${
                  n.isSynthetic ? "Synth " : ""
                }${n.ticker}`,
                R = I ? x("txManager.preparingTransaction") : b,
                { swap: W } = await (
                  await Qe(
                    () =>
                      import("./assets/index-POi8GhpC.js")
                        .then(async (P) => (await P.__tla, P))
                        .then((P) => P.hc),
                    __vite__mapDeps([1, 2])
                  )
                ).getSwapKitClient(),
                { getAddressValidator: E } = await Qe(
                  () =>
                    import("./assets/index-POi8GhpC.js")
                      .then(async (P) => (await P.__tla, P))
                      .then((P) => P.hb),
                  __vite__mapDeps([1, 2])
                ),
                H =
                  (await E())({
                    chain: n.chain,
                    address:
                      "destinationAddress" in i ? i.destinationAddress : t,
                  }) &&
                  Jt({
                    chain: n.chain,
                    address:
                      "destinationAddress" in i ? i.destinationAddress : t,
                  });
              if (typeof H == "boolean" && !H)
                throw new Error("Invalid recipient address");
              o(
                Aa({
                  id: m,
                  label: R,
                  from: w,
                  inChain: a.chain,
                  type: Cs[Se.TC_SUPPORTED_TO_TC_SUPPORTED],
                  quoteId: r,
                  sellAmount: a.toSignificant(),
                  sellAmountNormalized: a.toSignificant(6),
                  recipient: t || w,
                  streamingSwap: l,
                })
              );
              try {
                const P = await W({
                  pluginName: a.chain === Z.Radix ? "radix" : void 0,
                  feeOptionKey: f,
                  recipient: t,
                  route: {
                    ...i,
                    ...(l
                      ? {
                          ...((C = i.streamingSwap) == null
                            ? void 0
                            : C.fullStreamingRoute),
                          transaction:
                            (v = i.streamingSwap) == null
                              ? void 0
                              : v.transaction,
                          tx: (p = i.streamingSwap) == null ? void 0 : p.tx,
                          memo: (u = i.streamingSwap) == null ? void 0 : u.memo,
                        }
                      : {}),
                  },
                  ...(c && I ? { maxBoostFeeBps: 10 } : {}),
                });
                $e("swap", {
                  quoteId: r,
                  expectedVolume: i.expectedOutputUSD,
                  minVolume: i.expectedOutputMaxSlippageUSD,
                  input: a.toString(),
                  output: n.toString(),
                }),
                  typeof P == "string"
                    ? o(
                        Ca({
                          label: b,
                          id: m,
                          txid: P,
                          quoteId: r,
                          route: i,
                          timestamp: new Date(),
                          advancedTracker: vs(i.providers),
                        })
                      )
                    : (o(dt({ id: m, status: "error" })),
                      Ge(x("notification.submitFail"), JSON.stringify(P)));
              } catch (P) {
                pt(P), o(dt({ id: m, status: "error" }));
                const X =
                  (P == null ? void 0 : P.code) === 4001 ||
                  (P == null ? void 0 : P.toString().includes("4001"));
                X ||
                  $e("swap_failed", {
                    error: P,
                    input: a.toString(),
                    output: n.toString(),
                  }),
                  Ge(
                    x("notification.submitFail"),
                    X
                      ? x("notification.cancelledByUser")
                      : P == null
                      ? void 0
                      : P.toString(),
                    void 0,
                    P
                  );
              }
            }
          } catch (w) {
            $e("swap_failed", {
              error: w,
              input: a.toString(),
              output: n.toString(),
            }),
              pt(w);
            const I = As(w == null ? void 0 : w.toString());
            o(dt({ id: m, status: "error" })),
              Ge(
                x("notification.submitFail"),
                I.includes("Object") ? "" : I,
                void 0,
                w
              );
          }
        }, [S, a, i, n, t, o, r, l, f, c]);
      },
      _s = ({
        hasQuote: t,
        quoteError: a,
        invalidSwap: n,
        inputAmount: i,
        inputAsset: r,
        isApproved: l,
        isInputWalletConnected: c,
        isLoading: o,
        outputAsset: f,
        recipient: S,
        setVisibleApproveModal: m,
        setVisibleConfirmModal: h,
      }) => {
        const { setIsConnectModalOpen: k } = An(),
          { getWallet: C } = Xe(),
          { getChainTradingPaused: v } = Cn(),
          { numberOfPendingApprovals: p } = Tn(),
          u = s.useMemo(() => v(r.chain) || v(f.chain), [v, r.chain, f.chain]),
          w = s.useMemo(() => !!C(r.chain), [C, r.chain]),
          I = s.useCallback(async () => {
            try {
              if (!S) return !0;
              const { getAddressValidator: X } = await Qe(
                  () =>
                    import("./assets/index-POi8GhpC.js")
                      .then(async (L) => (await L.__tla, L))
                      .then((L) => L.hb),
                  __vite__mapDeps([1, 2])
                ),
                z =
                  (await X())({ chain: f.chain, address: S }) &&
                  Jt({ chain: f.chain, address: S });
              return typeof z > "u" ? !0 : z;
            } catch (X) {
              return pt(X), !1;
            }
          }, [f, S]),
          b = s.useCallback(async () => {
            w
              ? t
                ? (await I())
                  ? h(!0)
                  : Ge(
                      x("notification.invalidRecipientAddy"),
                      x("notification.invalidRecipientAddyDesc")
                    )
                : Et(x("notification.noValidQuote"))
              : Et(
                  x("notification.walletNotFound"),
                  x("notification.connectWallet")
                );
          }, [w, t, I, h]),
          R = s.useCallback(() => {
            c
              ? m(!0)
              : Et(
                  x("notification.walletNotFound"),
                  x("notification.connectWallet")
                );
          }, [c, m]),
          W = s.useMemo(() => !(n || u) && t && i.gt(0), [t, i, n, u]),
          E = s.useMemo(
            () =>
              u
                ? x("notification.swapNotAvailable")
                : a || (!t && i.gt(0))
                ? x("views.swap.noValidQuote")
                : (r.isSynthetic && f.isSynthetic) || W
                ? x("common.swap")
                : r.isSynthetic
                ? x("txManager.redeem")
                : f.isSynthetic
                ? x("txManager.mint")
                : x("common.swap"),
            [u, a, r.isSynthetic, f.isSynthetic, W, t, i]
          ),
          H = s.useMemo(() => t && c && l === !1, [t, c, l]),
          P = s.useMemo(() => !(c && S), [c, S]);
        return e.jsx(g, {
          className: "w-full pt-5 gap-x-2",
          children:
            P && (t || !S || i.eqValue(0))
              ? e.jsx(Ce, {
                  stretch: !0,
                  onClick: () => k(!0),
                  size: "lg",
                  variant: "fancy",
                  children: c
                    ? x("views.swap.connectOrFillRecipient")
                    : x("common.connectWallet"),
                })
              : H && !a && t
              ? e.jsx(Ce, {
                  stretch: !0,
                  loading: !!p || o,
                  onClick: R,
                  size: "lg",
                  variant: "fancy",
                  children: x("txManager.approve"),
                })
              : e.jsx(Ce, {
                  stretch: !0,
                  disabled: !W,
                  error: !W,
                  loading: o,
                  onClick: b,
                  size: "lg",
                  variant: "fancy",
                  children: E,
                }),
        });
      },
      ks = ({ inputAsset: t, contract: a }) => {
        const n = ja(),
          { getWalletAddress: i } = Xe();
        return s.useCallback(
          async (r) => {
            const l = i(t.chain);
            if (l) {
              const c = Ea(),
                o = t.chain,
                f =
                  o === Z.Ethereum
                    ? me.ETH_APPROVAL
                    : o === Z.Avalanche
                    ? me.AVAX_APPROVAL
                    : me.BSC_APPROVAL;
              n(
                Aa({
                  id: c,
                  from: l,
                  inChain: o,
                  type: f,
                  label: `${x("txManager.approve")} ${t.ticker}`,
                })
              );
              const { approveAssetValue: S } = await (
                await Qe(
                  () =>
                    import("./assets/index-POi8GhpC.js")
                      .then(async (m) => (await m.__tla, m))
                      .then((m) => m.hc),
                  __vite__mapDeps([1, 2])
                )
              ).getSwapKitClient();
              try {
                const m = await S(t.set(r || 0), a || "thorchain");
                $e("swap_approve", { approveAmount: r, asset: t.toString() }),
                  typeof m == "string" && n(Ca({ id: c, txid: m }));
              } catch (m) {
                $e("swap_approve_failed", {
                  error: m,
                  approveAmount: r,
                  asset: t.toString(),
                }),
                  pt(m),
                  n(dt({ id: c, status: "error" })),
                  Ge(x("notification.approveFailed"), void 0, void 0, m);
              }
            }
          },
          [i, t, n, a]
        );
      },
      Ps = (t) =>
        t.reduce((a, n) => {
          if (n.providers.some((r) => r.includes("_STREAMING"))) return a;
          const i =
            n.providers.length === 1
              ? t.find((r) => r.providers[0] === `${n.providers[0]}_STREAMING`)
              : void 0;
          return a.push(Ns({ route: n, streamingSwapRoute: i })), a;
        }, []),
      Ns = ({ route: t, streamingSwapRoute: a }) => {
        var S;
        const n = { ...t };
        if (!a) return n;
        const i = (S = a.meta) == null ? void 0 : S.maxStreamingQuantity,
          { maxQuantity: r, maxIntervalForMaxQuantity: l } = Fs(a.memo, i),
          { savingsInAsset: c, savingsInUSD: o } = Is({
            route: t,
            streamingSwapRoute: a,
          }),
          f = {
            expectedBuyAmount: a.expectedBuyAmount,
            expectedBuyAmountMaxSlippage: a.expectedBuyAmountMaxSlippage,
            expectedOutputUSD: a.expectedOutputUSD,
            expectedOutputMaxSlippageUSD: a.expectedOutputMaxSlippageUSD,
            estimatedTime: a.estimatedTime,
            fees: a.fees,
            memo: a.memo,
            maxQuantity: r,
            maxIntervalForMaxQuantity: l,
            savingsInAsset: c,
            savingsInUSD: o,
            warnings: a.warnings,
            transaction: a.tx,
            tx: a.tx,
            fullStreamingRoute: a,
          };
        return { ...n, streamingSwap: f };
      };
    function Fs(t, a) {
      const n = t == null ? void 0 : t.split(":"),
        i = 3;
      if (!n || (n == null ? void 0 : n.length) < i + 1)
        return { maxQuantity: a || 0, maxIntervalForMaxQuantity: 0 };
      const r = n[i],
        [, , l] = r.split("/"),
        c = a || l,
        o = 24 * 60 * 60,
        f = Math.round(o / (Number(c) * 6));
      return {
        maxQuantity: Number(c) || 0,
        maxIntervalForMaxQuantity: Number(f) || 0,
      };
    }
    function Is({ route: t, streamingSwapRoute: a }) {
      const n = `${new pe({ value: a.expectedBuyAmount })
          .sub(t.expectedBuyAmount)
          .toFixed(4)}`,
        i = `${new pe({ value: a.expectedOutputUSD })
          .sub(t.expectedOutputUSD)
          .toFixed(4)}`;
      return { savingsInAsset: n, savingsInUSD: i };
    }
    let Zt, wt, yt, vt, ea;
    (Zt = ({
      ethAddress: t,
      inputAsset: a,
      inputAmount: n,
      outputAsset: i,
      recipientAddress: r,
      senderAddress: l,
      inputUSDVolume: c,
      cfBoost: o,
    }) => {
      var Y, ae;
      const f = _n(),
        S = s.useRef(!1),
        { slippageTolerance: m } = Ie(),
        h = Rt(({ app: A }) => A.iframeData),
        [k, C] = s.useState(!1),
        [v, p] = s.useState([]),
        [u, w] = s.useState([]),
        I = Va(m, 1e3),
        b = Va(n.getValue("string"), 400),
        R = ri(t);
      s.useEffect(() => {
        p([]);
      }, [n]);
      const W = (A) => {
          p(A.providers || A.provider);
        },
        E = s.useMemo(() => {
          if (h != null && h.fee) return `${Math.floor(h.fee)}`;
          let A = 50;
          return (
            R.gte(1e3) && (A = 42),
            R.gte(1e4) && (A = 25),
            R.gte(1e5) && (A = 17),
            R.gte(5e5) && (A = 0),
            (Pn || Nn) && (A = 0),
            c >= 1e6 && (A *= 0.5),
            `${Math.floor(A)}`
          );
        }, [R, h == null ? void 0 : h.fee, c]),
        H = s.useMemo(
          () => ({
            referrer: f || void 0,
            affiliateFee: Number.parseInt(E),
            affiliate: (h == null ? void 0 : h.address) || "",
            sellAsset: a.toString(),
            buyAsset: i.toString(),
            sellAmount: b,
            sourceAddress: l,
            destinationAddress: r,
            cfBoost: o,
            ...(I && { slippage: Number(I.toString()) || 5 }),
          }),
          [E, I, b, h == null ? void 0 : h.address, a, i, r, l, f, o]
        ),
        {
          refetch: P,
          error: X,
          isLoading: z,
          currentData: L,
          isFetching: se,
          isUninitialized: oe,
        } = kn(
          {
            ...H,
            sellAsset: a.toString({ includeSynthProtocol: !0 }),
            buyAsset: i.toString({ includeSynthProtocol: !0 }),
          },
          { skip: H.sellAmount === "0" || n.lte(0) }
        ),
        K = s.useMemo(() => X, [X]),
        xe = s.useMemo(
          () => () => {
            w([]), oe || P();
          },
          [oe, P]
        ),
        O = s.useCallback(
          async (A) => {
            try {
              const Q = A.map(async (U) => {
                  const j =
                    l && !U.providers.includes(ge.CHAINFLIP)
                      ? await pi({
                          assetValue: a.set(n),
                          contract:
                            U.meta.approvalAddress ||
                            U.targetAddress ||
                            U.providers[0].toLowerCase(),
                        })
                      : !0;
                  return { ...U, isApproved: j };
                }),
                M = (await Promise.all(Q))
                  .filter(Boolean)
                  .concat()
                  .sort((U, j) => {
                    var ye, re, ne;
                    if ((ye = U.meta) != null && ye.referrer) return -1;
                    const ve = Number(j.isApproved) - Number(U.isApproved);
                    return ve !== 0
                      ? ve
                      : Number(
                          ((re = j.streamingSwap) == null
                            ? void 0
                            : re.expectedBuyAmount) || j.expectedOutput
                        ) -
                          Number(
                            ((ne = U.streamingSwap) == null
                              ? void 0
                              : ne.expectedBuyAmount) || U.expectedOutput
                          );
                  });
              w(M);
            } finally {
              C(!1);
            }
          },
          [a, l, n]
        ),
        q = s.useMemo(() => n.lte(0), [n]);
      s.useEffect(() => {
        if (se && u.length) return;
        const A = ((L == null ? void 0 : L.routes) || [])
          .filter((M) => {
            const U = M.providers.find((ye) => /.*_STREAMING/.test(ye));
            if (!U) return !0;
            const j = U.replace("_STREAMING", ""),
              ve =
                L == null
                  ? void 0
                  : L.routes.find((ye) => ye.providers.includes(j));
            return !(ve && M.expectedBuyAmount === ve.expectedBuyAmount);
          })
          .map((M) => {
            var ve, ye, re, ne, le, _e;
            const U = M.meta,
              j =
                (ve = M == null ? void 0 : M.fees) == null
                  ? void 0
                  : ve.reduce(
                      (T, G) => {
                        var je, de;
                        const be =
                          ((de =
                            (je = U.assets) == null
                              ? void 0
                              : je.find(
                                  (J) =>
                                    J.asset.toLowerCase() ===
                                    G.asset.toLowerCase()
                                )) == null
                            ? void 0
                            : de.price) || 0;
                        if (G.type === Je.INBOUND) {
                          const J = fe
                              .from({ asset: G.asset, value: G.amount })
                              .add(T.inbound.networkFee),
                            he = J.mul(be);
                          return (
                            (T.inbound = {
                              ...T.inbound,
                              networkFee: J.getValue("number"),
                              networkFeeUSD: he.getValue("number"),
                            }),
                            (T.total = {
                              totalFeeUSD: he
                                .add(T.total.totalFeeUSD)
                                .getValue("number"),
                            }),
                            T
                          );
                        }
                        if (G.type === Je.AFFILIATE) {
                          const J = a.set(G.amount),
                            he = J.mul(be);
                          return (
                            (T.inbound = {
                              ...T.inbound,
                              affiliateFee: J.getValue("number"),
                              affiliateFeeUSD: he.getValue("number"),
                            }),
                            (T.total = {
                              totalFeeUSD: he
                                .add(T.total.totalFeeUSD)
                                .getValue("number"),
                            }),
                            T
                          );
                        }
                        if (G.type === Je.OUTBOUND) {
                          const J = fe
                              .from({ asset: G.asset, value: G.amount })
                              .add(T.outbound.networkFee),
                            he = J.mul(be);
                          return (
                            (T.outbound = {
                              ...T.outbound,
                              networkFee: J.getValue("number"),
                              networkFeeUSD: he.getValue("number"),
                            }),
                            (T.total = {
                              totalFeeUSD: he
                                .add(T.total.totalFeeUSD)
                                .getValue("number"),
                            }),
                            T
                          );
                        }
                        if (G.type === Je.NETWORK) {
                          const J = fe
                            .from({ asset: G.asset, value: G.amount })
                            .add(T.slippage.liquidityFee);
                          return (
                            (T.slippage = {
                              ...T.slippage,
                              liquidityFee: J.getValue("number"),
                              liquidityFeeUsd: J.getValue("number"),
                            }),
                            (T.total = {
                              totalFeeUSD: J.add(T.total.totalFeeUSD).getValue(
                                "number"
                              ),
                            }),
                            T
                          );
                        }
                        if (G.type === Je.LIQUIDITY) {
                          const J = fe
                              .from({ asset: G.asset, value: G.amount })
                              .add(T.slippage.liquidityFee),
                            he = J.mul(be);
                          return (
                            (T.slippage = {
                              ...T.slippage,
                              liquidityFee: J.getValue("number"),
                              liquidityFeeUsd: he.getValue("number"),
                            }),
                            (T.total = {
                              totalFeeUSD: he
                                .add(T.total.totalFeeUSD)
                                .getValue("number"),
                            }),
                            T
                          );
                        }
                        return T;
                      },
                      {
                        inbound: {
                          networkFee: 0,
                          networkFeeUSD: 0,
                          affiliateFee: 0,
                          affiliateFeeUSD: 0,
                        },
                        outbound: {
                          networkFee: 0,
                          networkFeeUSD: 0,
                          affiliateFee: 0,
                          affiliateFeeUSD: 0,
                        },
                        slippage: { liquidityFee: 0, liquidityFeeUsd: 0 },
                        total: { totalFeeUSD: 0 },
                      }
                    );
            return {
              ...M,
              expectedOutputUSD: new pe({ value: M.expectedBuyAmount })
                .mul(
                  ((re =
                    (ye = M.meta.assets) == null
                      ? void 0
                      : ye.find((T) => T.asset === M.buyAsset)) == null
                    ? void 0
                    : re.price) || 0
                )
                .toFixed(2),
              expectedOutputMaxSlippageUSD: new pe({
                value: M.expectedBuyAmountMaxSlippage,
              })
                .mul(
                  ((le =
                    (ne = M.meta.assets) == null
                      ? void 0
                      : ne.find((T) => T.asset === M.buyAsset)) == null
                    ? void 0
                    : le.price) || 0
                )
                .toFixed(2),
              timeEstimates:
                (((_e = M.estimatedTime) == null ? void 0 : _e.total) || 0) *
                1e3,
              path: `${M.sellAsset} -> ${M.buyAsset}`,
              expectedOutput: M.expectedBuyAmount,
              fees: {
                [M == null ? void 0 : M.providers[0]]: [
                  {
                    type: "inbound",
                    asset: M.sellAsset,
                    networkFee: j == null ? void 0 : j.inbound.networkFee,
                    networkFeeUSD: j == null ? void 0 : j.inbound.networkFeeUSD,
                    affiliateFee: j == null ? void 0 : j.inbound.affiliateFee,
                    affiliateFeeUSD:
                      j == null ? void 0 : j.inbound.affiliateFeeUSD,
                    totalFee: j == null ? void 0 : j.inbound.networkFee,
                    totalFeeUSD: j == null ? void 0 : j.inbound.networkFeeUSD,
                    isOutOfPocket: !0,
                  },
                  {
                    type: "outbound",
                    asset: M.buyAsset,
                    networkFee: j == null ? void 0 : j.outbound.networkFee,
                    networkFeeUSD:
                      j == null ? void 0 : j.outbound.networkFeeUSD,
                    affiliateFee: 0,
                    affiliateFeeUSD: 0,
                    liquidityFee: j == null ? void 0 : j.slippage.liquidityFee,
                    liquidityFeeUsd:
                      j == null ? void 0 : j.slippage.liquidityFeeUsd,
                    totalFee: 0,
                    totalFeeUSD: j == null ? void 0 : j.total.totalFeeUSD,
                    isOutOfPocket: !1,
                  },
                ],
              },
            };
          });
        if (!((L != null && L.routes) || A) || q) return w([]);
        const Q = Ps(A);
        O(Q), C(!0);
      }, [L, a, se, q, u == null ? void 0 : u.length, O, n, E]);
      const ie = s.useMemo(
        () =>
          K || z || n.getValue("number") === 0
            ? void 0
            : u.find((A) => A.providers.join() === v.join()) || u[0],
        [K, n, z, u, v]
      );
      return (
        s.useEffect(() => {
          (a || n || i) && w([]);
        }, [n, a, i]),
        s.useEffect(() => {
          var A;
          (A = K == null ? void 0 : K.data) != null &&
            A.message &&
            !S.current &&
            ((S.current = !0),
            setTimeout(() => {
              S.current = !1;
            }, 3e3));
        }, [(Y = K == null ? void 0 : K.data) == null ? void 0 : Y.message]),
        {
          refetch: xe,
          affiliateBasisPoints: E,
          vTHORDiscount: R.gte(1e3),
          error: K,
          estimatedTime: (ae = ie || u[0]) == null ? void 0 : ae.estimatedTime,
          isFetching: (k || ((z || se) && u.length === 0)) && !K,
          routes: u,
          selectedRoute: ie || u[0],
          setSwapRoute: W,
          quoteId: L == null ? void 0 : L.quoteId,
        }
      );
    }),
      (wt = fe.from({ chain: Z.Ethereum })),
      (yt = fe.from({ chain: Z.Bitcoin })),
      (vt = [Z.THORChain, Z.Maya]),
      (ea = () => {
        var da, pa, ma;
        const [t] = Fn(),
          a = In(),
          n = On(),
          { getMaxBalance: i } = Hn(),
          { keystore: r } = Rn(),
          { getWallet: l, getWalletAddress: c } = Xe(),
          o = s.useMemo(
            () => n.pathname.split("/").includes("okx"),
            [n.pathname]
          ),
          { analyticsVisible: f, toggleAnalytics: S } = Ie(),
          { pair: m } = Mn(),
          [h, k] = s.useMemo(() => {
            const [F, B] = (m || "")
              .replaceAll("resource_", "resource-")
              .split("_");
            return [
              F.replaceAll("resource-", "resource_"),
              B && B.replaceAll("resource-", "resource_"),
            ];
          }, [m]),
          C = s.useMemo(() => {
            if (!(m && h)) return wt;
            const [F, B, te] = h.split("."),
              Te = vt.includes(F) && te ? `${F}.${B}/${te}` : h;
            return fe.from({ asset: Te }) || wt;
          }, [h, m]),
          v = s.useMemo(() => {
            if (!(m && k)) return yt;
            const [F, B, te] = k.split("."),
              Te = vt.includes(F) && te ? `${F}.${B}/${te}` : k;
            return fe.from({ asset: Te }) || yt;
          }, [k, m]),
          p = C,
          u = v;
        s.useEffect(() => {
          $e("swap_pair", { sell: C.toString(), buy: v.toString() });
        }, [C, v]);
        const [w, I] = s.useState(Ta),
          [b, R] = s.useState(C.set(0)),
          [W, E] = s.useState(""),
          [H, P] = s.useState(!0),
          [X, z] = s.useState(""),
          [L, se] = s.useState(""),
          [oe, K] = s.useState(!1),
          [xe, O] = s.useState(!1),
          [q, ie] = s.useState(!1),
          [Y, ae] = s.useState("0"),
          A = et(),
          [Q, M] = s.useState(!1),
          U = s.useMemo(() => c(Z.Ethereum), [c]),
          { tokens: j, tradingPairs: ve, isLoading: ye } = En(!0),
          [re, ne] = s.useMemo(
            () => [
              j.find(
                ({ chain: F, ticker: B, address: te }) =>
                  `${F}.${B}${te ? `-${te}` : ""}`.toUpperCase() ===
                  `${p.chain}.${p.symbol}`.toUpperCase()
              ),
              j.find(
                ({ chain: F, ticker: B, address: te }) =>
                  `${F}.${B}${te ? `-${te}` : ""}`.toUpperCase() ===
                  `${u.chain}.${u.symbol}`.toUpperCase()
              ),
            ],
            [p.chain, p.symbol, u.chain, u.symbol, j]
          ),
          le = s.useMemo(
            () =>
              new pe({ value: t.get("sellAmount") || "0", decimal: p.decimal }),
            [p.decimal, t]
          ),
          _e = s.useCallback(
            (F) => {
              const B = F.getValue("string"),
                te = n.pathname.split("?")[0];
              a(`${te}?sellAmount=${B}`);
            },
            [n.pathname, a]
          );
        s.useEffect(() => {
          const F = c(u.chain);
          E(F || ""), z(F || ""), se(c(p.chain) || "");
        }, [c(p.chain), c(u.chain), p.chain, u]),
          s.useEffect(() => {
            const F =
                ut(p) || Ot(p) ? ct.ETH : re == null ? void 0 : re.decimals,
              B = ut(u) || Ot(u) ? ct.ETH : ne == null ? void 0 : ne.decimals;
            j.length && ((p.decimal = F), (u.decimal = B));
          }, [
            p,
            re == null ? void 0 : re.decimals,
            u,
            ne == null ? void 0 : ne.decimals,
            j,
          ]);
        const {
            refetch: T,
            isLoading: G,
            inputUnitPrice: be,
            outputUnitPrice: je,
          } = Vn([p, u]),
          {
            affiliateBasisPoints: de,
            isFetching: J,
            refetch: he,
            routes: st,
            error: Be,
            selectedRoute: ee,
            setSwapRoute: nt,
            quoteId: bt,
            vTHORDiscount: jt,
          } = Zt({
            ethAddress: U,
            inputAmount: le,
            inputAsset: p,
            inputUSDVolume: le.mul(be).getValue("number") || 0,
            outputAsset: u,
            recipientAddress: W || X,
            senderAddress: L,
            cfBoost: Q,
          }),
          ze = s.useMemo(() => {
            var F, B, te;
            return (
              ((te =
                (B =
                  (F = ee == null ? void 0 : ee.meta) == null
                    ? void 0
                    : F.assets) == null
                  ? void 0
                  : B.find(
                      (Te) =>
                        Te.asset.toUpperCase() === p.toString().toUpperCase()
                    )) == null
                ? void 0
                : te.price) || be
            );
          }, [ee, be]),
          Re = s.useMemo(() => {
            var F, B, te;
            return (
              ((te =
                (B =
                  (F = ee == null ? void 0 : ee.meta) == null
                    ? void 0
                    : F.assets) == null
                  ? void 0
                  : B.find(
                      (Te) =>
                        Te.asset.toUpperCase() === u.toString().toUpperCase()
                    )) == null
                ? void 0
                : te.price) || je
            );
          }, [ee, je]),
          Ne = s.useMemo(() => {
            var F;
            return (F = ee == null ? void 0 : ee.providers) == null
              ? void 0
              : F.includes(ge.CHAINFLIP);
          }, [ee == null ? void 0 : ee.providers]),
          Me = s.useMemo(() => {
            var F;
            return (
              [Z.Litecoin, Z.Dogecoin, Z.BitcoinCash, Z.Dash].includes(
                p.chain
              ) &&
              ((F = l(p.chain)) == null ? void 0 : F.walletType) === Un.LEDGER
            );
          }, [l, p.chain]),
          ke = s.useMemo(() => le.mul(ze).getValue("number"), [le, ze]),
          Ee = s.useMemo(
            () =>
              ee && new pe({ value: ke || ee.expectedOutputUSD || 0 }).lte(500),
            [ee, ke]
          ),
          At = s.useMemo(() => {
            var B;
            const F = new pe({
              value:
                ((B = ee == null ? void 0 : ee.meta) == null
                  ? void 0
                  : B.priceImpact) || 0,
              decimal: 2,
            });
            return ae(F.toFixed(2)), F.lte("-5");
          }, [ee, ke]),
          {
            streamSwap: y,
            canStreamSwap: V,
            minReceive: D,
            outputAmount: N,
            fees: ue,
            route: $,
            streamingSwapParams: we,
            setStreamingSwapParams: Le,
            slippagePercent: Ve,
            defaultInterval: Os,
          } = ls({
            selectedRoute: ee,
            inputAmount: le,
            noPriceProtection: Me,
            outputAsset: u,
            isChainflip: Ne,
            noSlipProtection: Ee,
          }),
          ta = s.useMemo(() => N.mul(Re).getValue("number"), [Re, N]),
          Ue = s.useMemo(() => !!l(p.chain), [l, p.chain]),
          aa = s.useMemo(() => (Ue ? b : void 0), [Ue, b]),
          sa = s.useMemo(
            () => ({
              asset: p,
              logoURI: re == null ? void 0 : re.logoURI,
              value: le,
              balance: aa,
              usdPrice: ke,
              priceLoading: G,
            }),
            [p, re == null ? void 0 : re.logoURI, le, aa, ke, G]
          ),
          na = s.useMemo(
            () => ({
              asset: u,
              logoURI: ne == null ? void 0 : ne.logoURI,
              value: N,
              usdPrice: ta,
              loading: J,
              priceLoading: G || J,
            }),
            [u, ne == null ? void 0 : ne.logoURI, N, ta, J, G]
          ),
          { targetAddress: Rs, meta: Ct } = $ || {},
          {
            firstNetworkFee: Ms,
            affiliateFee: ia,
            networkFee: ra,
            totalFee: oa,
            liquidityFee: la,
          } = Lt(ue),
          Es = ks({
            contract:
              (Ct == null ? void 0 : Ct.approvalAddress) ||
              Rs ||
              ((da = $ == null ? void 0 : $.providers) == null
                ? void 0
                : da[0]),
            inputAsset: p,
          }),
          Vs = s.useMemo(() => {
            const F = Object.values(ue || {})
              .flat()
              .map(
                ({ asset: B }) =>
                  new fe({ identifier: B, decimal: 2, value: 0 }).ticker
              );
            return Array.from(new Set(F)).join(", ");
          }, [ue]),
          it = s.useCallback(
            (F) => async (B) => {
              const te = F === "input",
                Te = te ? B : B.eqAsset(p) ? u : p,
                Qs = te ? (B.eqAsset(u) ? p : u) : B;
              if (te) {
                const _t = (await i(B)) || Ta;
                _e(
                  le.gt(_t)
                    ? new pe({
                        value: _t.getValue("string"),
                        decimal: _t.decimal,
                      })
                    : le
                );
              }
              const Ks = lt(Te, Qs, o ? mt.Okx : mt.Swap);
              a(`${Ks}?sellAmount=${le.getValue("string")}`);
            },
            [i, le, p, o, a, u, _e]
          ),
          Us = s.useCallback(
            (F) => {
              I(N.gt(w) ? w : N);
              const B = ut(u)
                  ? fe.from({ asset: "ETH.THOR" })
                  : fe.from({ chain: Z.Ethereum }),
                te = lt(u, F ? B : p, o ? mt.Okx : mt.Swap);
              a(`${te}?sellAmount=${N.getValue("string")}`);
            },
            [N, w, u, p, o, a]
          ),
          Ds = s.useCallback(() => {
            T(), he();
          }, [T, he]),
          $s = Ts({
            inputAsset: fe.from({
              asset: p.toString({ includeSynthProtocol: !0 }),
              value: le.getValue("string"),
            }),
            outputAsset: fe.from({
              asset: u.toString({ includeSynthProtocol: !0 }),
              value: N.getValue("string"),
            }),
            recipient: W,
            route: $,
            quoteId: bt,
            streamSwap: y,
            isChainflipBoostEnable: Q,
          });
        s.useEffect(() => {
          R(void 0), i(p).then((F) => R(F));
        }, [p, i]);
        const ca = s.useMemo(
            () =>
              D.gte(0)
                ? `${D.toSignificant(6)} ${u.ticker.toUpperCase()}`
                : "-",
            [D, u.ticker]
          ),
          Ws = s.useMemo(() => !!l(u.chain), [l, u.chain]),
          Hs = s.useMemo(
            () => Ue && p.chain === Z.Ethereum && !!r,
            [p.chain, Ue, r]
          ),
          rt = s.useMemo(
            () => u.ticker.includes("LSAI") && u.chain === Z.Avalanche,
            [u]
          ),
          ot = s.useMemo(
            () => u.ticker === "RUNE" && u.chain === Z.Ethereum,
            [u]
          ),
          Bs = s.useMemo(() => rt || ot, [rt, ot]),
          zs = s.useMemo(
            () =>
              rt
                ? e.jsx(rs, { inputAsset: p })
                : ot
                ? e.jsx(ts, { inputAsset: p })
                : null,
            [p, rt, ot]
          ),
          Ls = s.useMemo(() => (b ? le.gt(b) : !1), [le, b]),
          qs = s.useMemo(() => [p.ticker, u.ticker], [p.ticker, u.ticker]),
          Ys = s.useCallback(() => it("input"), [it]),
          Xs = s.useCallback(() => it("output"), [it]),
          ua = Rt(({ app: F }) => {
            var B;
            return (B = F.iframeData) == null ? void 0 : B.isWidget;
          }),
          Tt = y
            ? (pa = $ == null ? void 0 : $.streamingSwap) == null
              ? void 0
              : pa.warnings
            : $ == null
            ? void 0
            : $.warnings;
        return e.jsxs(_, {
          alignSelf: "center",
          gap: 3,
          w: "full",
          children: [
            e.jsx(_, {
              flex: 1,
              justify: "center",
              transition: Pt,
              children: e.jsxs(Wn, {
                description: x("views.swap.description", {
                  inputAsset: p.ticker.toUpperCase(),
                  outputAsset: u.ticker.toUpperCase(),
                }),
                header: ua
                  ? null
                  : e.jsx(fs, {
                      inputAssetChain: p.chain,
                      isSidebarVisible: f,
                      refetchData: !$ || J || G ? void 0 : Ds,
                      toggleSidebar: () => S(!f),
                    }),
                keywords: `${p.ticker}, ${u.ticker}, SWAP, LIGHTSwap AI, ETH Chain, DEX, DeFi`,
                title: `${x("common.swap")} ${p.ticker} to ${u.ticker}`,
                children: [
                  e.jsx(ds, {
                    inputAsset: sa,
                    onInputAmountChange: _e,
                    onInputAssetChange: Ys(),
                    onOutputAssetChange: Xs(),
                    onSwitchPair: Us,
                    outputAsset: na,
                    tokens: j,
                    tradingPairs: ve.get(p.toString().toLowerCase()) || {
                      tokens: j,
                      providers: [Vt.V1_PROVIDERS, Vt.CHAINFLIP, Vt.MAYACHAIN],
                    },
                  }),
                  Ue &&
                    e.jsx(oi, {
                      isOutputWalletConnected: Ws,
                      outputAssetChain: u.chain,
                      recipient: W || X,
                      setIsValidRecipient: P,
                      setRecipient: E,
                    }),
                  e.jsx(ws, {
                    affiliateBasisPoints: Number(de),
                    affiliateFee: ia,
                    assets: qs,
                    expectedOutput: `${
                      N == null ? void 0 : N.toSignificant(6)
                    } ${u.ticker.toUpperCase()}`,
                    inputUnitPrice: ze,
                    isLoading: G,
                    liquidityFee: la,
                    minReceive: ca,
                    minReceiveSlippage: Ve,
                    networkFee: ra,
                    outputUnitPrice: Re,
                    setFeeModalOpened: ie,
                    showTransactionFeeSelect: Hs,
                    streamSwap: y,
                    vTHORDiscount: jt,
                    whaleDiscount: ke >= 1e6,
                  }),
                  Bs &&
                    e.jsx(Ze, {
                      className: "!mt-2",
                      content: zs,
                      type: "warn",
                    }),
                  Me &&
                    e.jsx(Ze, {
                      className: "!mt-2",
                      content: x("views.swap.priceProtectionUnavailableDesc", {
                        chain: p.chain,
                      }),
                      title: x("views.swap.priceProtectionUnavailable"),
                      type: "warn",
                    }),
                  e.jsx(Za, {
                    outputAsset: u,
                    outputUnitPrice: Re,
                    routes: st || [],
                    selectedRoute: $,
                    setSwapRoute: nt,
                    streamSwap: y,
                  }),
                  (!ua || !!$) &&
                    e.jsx(is, {
                      canStreamSwap: V,
                      defaultInterval: Os,
                      isChainflip: !!Ne,
                      isChainflipBoostEnable: Q,
                      minReceive: D,
                      noSlipProtection: Ee || Me,
                      onSettingsChange: Le,
                      outputAmount: N,
                      outputAsset: u,
                      route: $,
                      setIsChainflipBoostEnable: M,
                      streamSwap: y,
                      streamingSwapParams: we,
                    }),
                  Tt == null
                    ? void 0
                    : Tt.map((F) =>
                        e.jsx(
                          Ze,
                          {
                            className: "!mt-2",
                            title:
                              F.code === "highPriceImpact"
                                ? e.jsxs(g, {
                                    row: !0,
                                    className: "pl-4 self-stretch w-[100%]",
                                    justify: "between",
                                    children: [
                                      e.jsx(d, {
                                        children: x(
                                          `views.swap.warning.${F.code}`
                                        ),
                                      }),
                                      " ",
                                      e.jsx(d, {
                                        color: "red",
                                        children: F.display,
                                      }),
                                    ],
                                  })
                                : x(`views.swap.warning.${F.code}`),
                            tooltip: F.tooltip,
                            type: "warn",
                          },
                          F.code
                        )
                      ),
                  At &&
                    !y &&
                    !($ != null && $.providers.some((F) => Dn.includes(F))) &&
                    e.jsx(
                      Ze,
                      {
                        className: "!mt-2",
                        title: e.jsxs(g, {
                          row: !0,
                          className: "pl-4 self-stretch w-[100%]",
                          justify: "between",
                          children: [
                            e.jsx(d, {
                              children: x("views.swap.warning.highPriceImpact"),
                            }),
                            " ",
                            e.jsx(d, { color: "red", children: `${Y}%` }),
                          ],
                        }),
                        tooltip: x("views.swap.warning.highPriceImpactTooltip"),
                        type: "warn",
                      },
                      "highValueImpact-v1"
                    ),
                  Ee &&
                    !Ne &&
                    e.jsx(
                      Ze,
                      {
                        className: "!mt-2",
                        title: x("views.swap.priceProtectionUnavailable"),
                        type: "warn",
                      },
                      "amountTooLowForLimit"
                    ),
                  e.jsx(_s, {
                    hasQuote: !!$,
                    inputAmount: le,
                    inputAsset: p,
                    invalidSwap: Ls,
                    isApproved: !!($ != null && $.isApproved),
                    isInputWalletConnected: Ue,
                    isLoading: ye || ((J || G) && !Be),
                    outputAsset: u,
                    quoteError: !!Be,
                    recipient: H ? W || X : null,
                    setVisibleApproveModal: O,
                    setVisibleConfirmModal: K,
                  }),
                  e.jsx(xs, {
                    affiliateFee: A(ia),
                    estimatedTime: $ == null ? void 0 : $.timeEstimates,
                    feeAssets: Vs,
                    handleSwap: $s,
                    inputAssetProps: sa,
                    isChainflip: Ne,
                    liquidityFee: A(la),
                    minReceive: ca,
                    networkFee: A(ra),
                    outputAssetProps: na,
                    recipient: W,
                    selectedRoute: $,
                    setVisible: K,
                    slippagePercent: Ne ? 5 : Ee || Me ? 0 : Ve,
                    streamSwap: y,
                    totalFee: A(oa),
                    visible: oe,
                    referrer:
                      (ma = $ == null ? void 0 : $.meta) == null
                        ? void 0
                        : ma.referrer,
                  }),
                  e.jsx(ai, {
                    balance: b,
                    handleApprove: Es,
                    inputAsset: p,
                    setVisible: O,
                    totalFee: A(Ms),
                    visible: xe,
                  }),
                  e.jsx(es, {
                    fees: ue,
                    isOpened: q,
                    onClose: () => ie(!1),
                    totalFee: A(oa),
                  }),
                ],
              }),
            }),
            e.jsx(Ya, {
              analyticsVisible: f,
              inputAssetChain: p.chain,
              toggleAnalytics: S,
            }),
          ],
        });
      }),
      (Ua = ea);
  });
export { hi as __tla, Ua as default };
