const __vite__fileDeps=["assets/index-POi8GhpC.js","assets/index-CWjS2nv2.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{cn as e,cv as n,er as P,cA as l,dE as K,df as S,cB as A,cJ as D,cL as L,cz as M,cP as O,__tla as R}from"./assets/index-POi8GhpC.js";let j,T=Promise.all([(()=>{try{return R}catch{}})()]).then(async()=>{(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r=new a.Error().stack;r&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[r]="c97ddf32-0ba4-46d3-93d5-e3676eb7fb8f",a._sentryDebugIdIdentifier="sentry-dbid-c97ddf32-0ba4-46d3-93d5-e3676eb7fb8f")}catch{}})();let _,g;_=e.memo(({error:a,onChange:r,value:i,onKeyDown:s,...o})=>n.jsx(P,{stretch:!0,border:"rounded",error:a?l("validation.invalidPassword"):void 0,icon:"lock",onChange:r,onKeyDown:s,placeholder:l("common.password"),type:"password",value:i,...o})),g=60*1e3,j=({buttonDisabled:a,children:r,inputAssets:i,isOpened:s,onClose:o,onConfirm:C})=>{const{keystore:m,signingRequired:v,phrase:x}=K(),[k,c]=e.useState(!1),[y,d]=e.useState(!1),[u,h]=e.useState(""),b=e.useMemo(()=>v(i),[i,v]);e.useEffect(()=>{let t;return s&&(t=setTimeout(()=>{o()},g)),()=>{clearTimeout(t)}},[s,o]),e.useEffect(()=>{h(""),c(!1),d(!1)},[s]);const p=e.useCallback(()=>{s&&C()},[C,s]),E=e.useCallback(()=>{o&&(h(""),c(!1),d(!1),o())},[o]),w=e.useCallback(async()=>{const{decryptFromKeystore:t}=await S(()=>import("./assets/index-POi8GhpC.js").then(async f=>(await f.__tla,f)).then(f=>f.ha),__vite__mapDeps([0,1]));if(!b)return p();if(m){if(!u)return c(!0);d(!0);try{await t(m,u)===x?p():c(!0)}catch{c(!0)}d(!1)}},[b,m,u,p,x]),I=e.useCallback(t=>{t.code==="Enter"&&!y&&w()},[w,y]);return n.jsx(A,{isOpened:s,onClose:E,title:l("common.confirm"),children:n.jsxs(D,{col:!0,className:L("gap-y-4 md:min-w-[350px]"),children:[r&&n.jsx("div",{children:r}),b&&n.jsxs(D,{py:2,children:[n.jsx(_,{onChange:({target:t})=>h(t.value),onKeyDown:I,value:u}),k&&n.jsx(M,{className:"ml-2",fontWeight:"medium",textStyle:"caption",variant:"orange",children:l("views.walletModal.wrongPassword")})]}),n.jsx(O,{stretch:!0,disabled:a,loading:y,onClick:w,size:"md",variant:"fancy",children:l("common.confirm")})]})})}});export{j as C,T as __tla};
