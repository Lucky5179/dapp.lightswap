import{cv as t,cP as ee,cL as z,cJ as A,cM as R,cz as N,cy as M,cA as _,O as S,_ as h,cQ as ge,gj as xe,cn as y,gk as ve,f5 as ye,gl as be,gm as Se,gn as Ce,cI as je,cO as ke,de as te,dl as we,go as P,cE as Te,eb as H,er as Ae,gp as Ie,gq as Oe,gr as Re,cB as Ne}from"./assets/index-POi8GhpC.js";import{T as _e}from"./CJGo2KxJ.js";import{u as ze}from"./DLie8hhL.js";import{S as Le}from"./C8rAcL73.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new e.Error().stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="79f6d9fb-bec4-49be-9491-a2ce8f879f5a",e._sentryDebugIdIdentifier="sentry-dbid-79f6d9fb-bec4-49be-9491-a2ce8f879f5a")}catch{}})();function Me({className:e,asset:s,size:a="md",withChevron:o,showAssetType:x,assetTypeComponent:b,onClick:p,logoURI:C}){return t.jsx(ee,{className:z(e,"!rounded-full !h-10 !hover:bg-light-gray-primary border !border-solid !border-opacity-40 border-dark-gray-primary !hover:bg-dark-gray-primary inline-flex !min-w-fit !ps-0 !pe-0 px-0"),onClick:p,size:a,textTransform:"uppercase",variant:"tint",children:t.jsxs(A,{center:!0,className:"gap-2.5 mx-1",children:[t.jsx(R,{asset:s,logoURI:C,size:28}),t.jsxs(A,{col:!0,className:"text-left",children:[t.jsx(N,{className:"!leading-5",fontWeight:"medium",textStyle:"subtitle2",textTransform:"uppercase",children:s.ticker}),x&&(b||t.jsx(N,{className:"!leading-4",fontWeight:"normal",textStyle:"caption-xs",textTransform:"uppercase",variant:s.isSynthetic?"primaryBtn":"secondary",children:s.type}))]}),o&&t.jsx(M,{color:"primary",name:"chevronDown"})]})})}const se=({logoURI:e,className:s,onClick:a,selected:o,showAssetType:x,assetTypeComponent:b})=>o?t.jsx(Me,{asset:o,assetTypeComponent:b,className:s,logoURI:e,onClick:a,showAssetType:x,withChevron:!!a}):t.jsx("div",{className:z("pl-8 pr-4",s),children:t.jsx(ee,{stretch:!0,onClick:a,rightIcon:t.jsx(M,{className:"ml-4 transition text-light-btn-secondary dark:text-dark-btn-secondary group-hover:text-light-typo-primary dark:group-hover:text-dark-typo-primary",name:"chevronDown"}),textTransform:"uppercase",variant:"secondary",children:_("components.assetSelect.selectAToken")})}),$=[{value:"all",label:"All",tooltip:"All assets"},{value:"thor",label:"THOR",tooltip:"THORChain",chainAsset:S.from({chain:h.THORChain})},{value:"btc",label:"BTC",tooltip:"Bitcoin (BTC)",chainAsset:S.from({chain:h.Bitcoin})},{value:"erc20",label:"ERC20",tooltip:"Ethereum Mainnet (ERC-20)",chainAsset:S.from({chain:h.Ethereum})},{value:"arbitrum",label:"ARB",tooltip:"Arbitrum (ARB)",chainAsset:S.from({chain:h.Arbitrum})},{value:"maya",label:"MAYA",tooltip:"MAYAChain",chainAsset:S.from({chain:h.Maya})},{value:"bep20",label:"BEP20",tooltip:"BNB Smart Chain (BEP20)",chainAsset:S.from({chain:h.BinanceSmartChain})},{value:"avax",label:"ERC20",tooltip:"Avalanche C-Chain (ERC-20)",chainAsset:S.from({chain:h.Avalanche})},{value:"doge",label:"DOGE",tooltip:"Dogecoin",chainAsset:S.from({chain:h.Dogecoin})},{value:"dot",label:"DOT",tooltip:"Polkadot",chainAsset:S.from({chain:h.Polkadot})},{value:"kuji",label:"KUJI",tooltip:"Kujira",chainAsset:S.from({chain:h.Kujira})},{value:"bch",label:"BCH",tooltip:"Bitcoin Cash (BCH)",chainAsset:S.from({chain:h.BitcoinCash})},{value:"ltc",label:"LTC",tooltip:"Litecoin (LTC)",chainAsset:S.from({chain:h.Litecoin})},{value:"dash",label:"DASH",tooltip:"Dash",chainAsset:S.from({chain:h.Dash})},{value:"gaia",label:"COSMOS",tooltip:"Cosmos Gaia",chainAsset:S.from({chain:h.Cosmos})},{value:"radix",label:"RADIX",tooltip:"Radix",chainAsset:S.from({asset:"XRD.XRD"})},{value:"solana",label:"SOL",tooltip:"Solana",chainAsset:S.from({asset:"SOL.SOL"})}],O=({icon:e,label:s,className:a})=>t.jsxs(A,{center:!0,className:z("whitespace-nowrap gap-1",a),children:[e||null,t.jsx(N,{fontWeight:"semibold",textStyle:"caption-xs",children:s})]}),De=()=>{const e=s=>{switch(s.value){case"all":return t.jsx(O,{className:"mx-2",label:s.label.toUpperCase()});case"thor":return t.jsx(O,{icon:t.jsx(M,{name:"thor",size:20}),label:s.label});case"btc":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Bitcoin}),size:20}),label:"BTC"});case"doge":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Dogecoin}),size:20}),label:"DOGE"});case"dot":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Polkadot}),size:20}),label:"DOT"});case"bch":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.BitcoinCash}),size:20}),label:"BCH"});case"ltc":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Litecoin}),size:20}),label:"LTC"});case"dash":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Dash}),size:20}),label:"DASH"});case"gaia":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Cosmos}),size:20}),label:"COSMOS"});case"maya":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({asset:"MAYA.MAYA"}),size:20,hasChainIcon:!1}),label:"MAYA"});case"avax":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Avalanche}),size:20}),label:"AVAX"});case"erc20":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Ethereum}),size:20}),label:"ETH"});case"arbitrum":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({asset:"ARB.ARB-0x912ce59144191c1204e64559fe8253a0e49e6548"}),hasChainIcon:!1,size:20}),label:"ARB"});case"bep20":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.BinanceSmartChain}),logoURI:ge({identifier:xe(h.BinanceSmartChain)}),size:20}),label:"BSC"});case"kuji":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({chain:h.Kujira}),size:20}),label:"KUJI"});case"radix":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({asset:"XRD.XRD-resource_rdx1tknxxxxxxxxxradxrdxxxxxxxxx009923554798xxxxxxxxxradxrd"}),size:20}),label:"RADIX"});case"solana":return t.jsx(O,{icon:t.jsx(R,{asset:S.from({asset:"SOL.SOL"}),size:20}),label:"SOL"});default:return t.jsx(O,{label:s.label.toUpperCase()})}};return $.map(s=>{var a;return{value:s.value,label:e(s),tooltip:s.tooltip,chain:(a=s.chainAsset)==null?void 0:a.chain}})};function q(){return q=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},q.apply(this,arguments)}function re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,s){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},X(e,s)}function Be(e,s){e.prototype=Object.create(s.prototype),e.prototype.constructor=e,X(e,s)}var ae=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Fe(e,s){return!!(e===s||ae(e)&&ae(s))}function Ee(e,s){if(e.length!==s.length)return!1;for(var a=0;a<e.length;a++)if(!Fe(e[a],s[a]))return!1;return!0}function K(e,s){s===void 0&&(s=Ee);var a,o=[],x,b=!1;function p(){for(var C=[],d=0;d<arguments.length;d++)C[d]=arguments[d];return b&&a===this&&s(C,o)||(x=e.apply(this,C),b=!0,a=this,o=C),x}return p}var We=typeof performance=="object"&&typeof performance.now=="function",oe=We?function(){return performance.now()}:function(){return Date.now()};function ne(e){cancelAnimationFrame(e.id)}function Pe(e,s){var a=oe();function o(){oe()-a>=s?e.call(null):x.id=requestAnimationFrame(o)}var x={id:requestAnimationFrame(o)};return x}var Y=-1;function ie(e){if(e===void 0&&(e=!1),Y===-1||e){var s=document.createElement("div"),a=s.style;a.width="50px",a.height="50px",a.overflow="scroll",document.body.appendChild(s),Y=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return Y}var B=null;function le(e){if(e===void 0&&(e=!1),B===null||e){var s=document.createElement("div"),a=s.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";var o=document.createElement("div"),x=o.style;return x.width="100px",x.height="100px",s.appendChild(o),document.body.appendChild(s),s.scrollLeft>0?B="positive-descending":(s.scrollLeft=1,s.scrollLeft===0?B="negative":B="positive-ascending"),document.body.removeChild(s),B}return B}var Ue=150,He=function(e,s){return e};function $e(e){var s,a=e.getItemOffset,o=e.getEstimatedTotalSize,x=e.getItemSize,b=e.getOffsetForIndexAndAlignment,p=e.getStartIndexForOffset,C=e.getStopIndexForStartIndex,d=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,m=e.validateProps;return s=function(j){Be(k,j);function k(n){var r;return r=j.call(this,n)||this,r._instanceProps=d(r.props,re(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:re(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof r.props.initialScrollOffset=="number"?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=K(function(l,i,f,u){return r.props.onItemsRendered({overscanStartIndex:l,overscanStopIndex:i,visibleStartIndex:f,visibleStopIndex:u})}),r._callOnScroll=void 0,r._callOnScroll=K(function(l,i,f){return r.props.onScroll({scrollDirection:l,scrollOffset:i,scrollUpdateWasRequested:f})}),r._getItemStyle=void 0,r._getItemStyle=function(l){var i=r.props,f=i.direction,u=i.itemSize,g=i.layout,v=r._getItemStyleCache(c&&u,c&&g,c&&f),T;if(v.hasOwnProperty(l))T=v[l];else{var I=a(r.props,l,r._instanceProps),L=x(r.props,l,r._instanceProps),D=f==="horizontal"||g==="horizontal",E=f==="rtl",W=D?I:0;v[l]=T={position:"absolute",left:E?void 0:W,right:E?W:void 0,top:D?0:I,height:D?"100%":L,width:D?L:"100%"}}return T},r._getItemStyleCache=void 0,r._getItemStyleCache=K(function(l,i,f){return{}}),r._onScrollHorizontal=function(l){var i=l.currentTarget,f=i.clientWidth,u=i.scrollLeft,g=i.scrollWidth;r.setState(function(v){if(v.scrollOffset===u)return null;var T=r.props.direction,I=u;if(T==="rtl")switch(le()){case"negative":I=-u;break;case"positive-descending":I=g-f-u;break}return I=Math.max(0,Math.min(I,g-f)),{isScrolling:!0,scrollDirection:v.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(l){var i=l.currentTarget,f=i.clientHeight,u=i.scrollHeight,g=i.scrollTop;r.setState(function(v){if(v.scrollOffset===g)return null;var T=Math.max(0,Math.min(g,u-f));return{isScrolling:!0,scrollDirection:v.scrollOffset<T?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(l){var i=r.props.outerRef;r._outerRef=l,typeof i=="function"?i(l):i!=null&&typeof i=="object"&&i.hasOwnProperty("current")&&(i.current=l)},r._resetIsScrollingDebounced=function(){r._resetIsScrollingTimeoutId!==null&&ne(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Pe(r._resetIsScrolling,Ue)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}k.getDerivedStateFromProps=function(n,r){return qe(n,r),m(n),null};var w=k.prototype;return w.scrollTo=function(n){n=Math.max(0,n),this.setState(function(r){return r.scrollOffset===n?null:{scrollDirection:r.scrollOffset<n?"forward":"backward",scrollOffset:n,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},w.scrollToItem=function(n,r){r===void 0&&(r="auto");var l=this.props,i=l.itemCount,f=l.layout,u=this.state.scrollOffset;n=Math.max(0,Math.min(n,i-1));var g=0;if(this._outerRef){var v=this._outerRef;f==="vertical"?g=v.scrollWidth>v.clientWidth?ie():0:g=v.scrollHeight>v.clientHeight?ie():0}this.scrollTo(b(this.props,n,r,u,this._instanceProps,g))},w.componentDidMount=function(){var n=this.props,r=n.direction,l=n.initialScrollOffset,i=n.layout;if(typeof l=="number"&&this._outerRef!=null){var f=this._outerRef;r==="horizontal"||i==="horizontal"?f.scrollLeft=l:f.scrollTop=l}this._callPropsCallbacks()},w.componentDidUpdate=function(){var n=this.props,r=n.direction,l=n.layout,i=this.state,f=i.scrollOffset,u=i.scrollUpdateWasRequested;if(u&&this._outerRef!=null){var g=this._outerRef;if(r==="horizontal"||l==="horizontal")if(r==="rtl")switch(le()){case"negative":g.scrollLeft=-f;break;case"positive-ascending":g.scrollLeft=f;break;default:var v=g.clientWidth,T=g.scrollWidth;g.scrollLeft=T-v-f;break}else g.scrollLeft=f;else g.scrollTop=f}this._callPropsCallbacks()},w.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ne(this._resetIsScrollingTimeoutId)},w.render=function(){var n=this.props,r=n.children,l=n.className,i=n.direction,f=n.height,u=n.innerRef,g=n.innerElementType,v=n.innerTagName,T=n.itemCount,I=n.itemData,L=n.itemKey,D=L===void 0?He:L,E=n.layout,W=n.outerElementType,ce=n.outerTagName,de=n.style,ue=n.useIsScrolling,he=n.width,J=this.state.isScrolling,U=i==="horizontal"||E==="horizontal",pe=U?this._onScrollHorizontal:this._onScrollVertical,V=this._getRangeToRender(),me=V[0],fe=V[1],Q=[];if(T>0)for(var F=me;F<=fe;F++)Q.push(y.createElement(r,{data:I,key:D(F,I),index:F,isScrolling:ue?J:void 0,style:this._getItemStyle(F)}));var Z=o(this.props,this._instanceProps);return y.createElement(W||ce||"div",{className:l,onScroll:pe,ref:this._outerRefSetter,style:q({position:"relative",height:f,width:he,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},de)},y.createElement(g||v||"div",{children:Q,ref:u,style:{height:U?"100%":Z,pointerEvents:J?"none":void 0,width:U?Z:"100%"}}))},w._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var n=this.props.itemCount;if(n>0){var r=this._getRangeToRender(),l=r[0],i=r[1],f=r[2],u=r[3];this._callOnItemsRendered(l,i,f,u)}}if(typeof this.props.onScroll=="function"){var g=this.state,v=g.scrollDirection,T=g.scrollOffset,I=g.scrollUpdateWasRequested;this._callOnScroll(v,T,I)}},w._getRangeToRender=function(){var n=this.props,r=n.itemCount,l=n.overscanCount,i=this.state,f=i.isScrolling,u=i.scrollDirection,g=i.scrollOffset;if(r===0)return[0,0,0,0];var v=p(this.props,g,this._instanceProps),T=C(this.props,v,g,this._instanceProps),I=!f||u==="backward"?Math.max(1,l):1,L=!f||u==="forward"?Math.max(1,l):1;return[Math.max(0,v-I),Math.max(0,Math.min(r-1,T+L)),v,T]},k}(y.PureComponent),s.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},s}var qe=function(e,s){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,s.instance},Xe=$e({getItemOffset:function(e,s){var a=e.itemSize;return s*a},getItemSize:function(e,s){var a=e.itemSize;return a},getEstimatedTotalSize:function(e){var s=e.itemCount,a=e.itemSize;return a*s},getOffsetForIndexAndAlignment:function(e,s,a,o,x,b){var p=e.direction,C=e.height,d=e.itemCount,c=e.itemSize,m=e.layout,j=e.width,k=p==="horizontal"||m==="horizontal",w=k?j:C,n=Math.max(0,d*c-w),r=Math.min(n,s*c),l=Math.max(0,s*c-w+c+b);switch(a==="smart"&&(o>=l-w&&o<=r+w?a="auto":a="center"),a){case"start":return r;case"end":return l;case"center":{var i=Math.round(l+(r-l)/2);return i<Math.ceil(w/2)?0:i>n+Math.floor(w/2)?n:i}case"auto":default:return o>=l&&o<=r?o:o<l?l:r}},getStartIndexForOffset:function(e,s){var a=e.itemCount,o=e.itemSize;return Math.max(0,Math.min(a-1,Math.floor(s/o)))},getStopIndexForStartIndex:function(e,s,a){var o=e.direction,x=e.height,b=e.itemCount,p=e.itemSize,C=e.layout,d=e.width,c=o==="horizontal"||C==="horizontal",m=s*p,j=c?d:x,k=Math.ceil((j+a-m)/p);return Math.max(0,Math.min(b-1,s+k-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const Ke=y.memo(({asset:e,logoURI:s,style:a,provider:o,balance:x,select:b,value:p,price:C})=>{const{isLight:d}=ve(),c=ze(),m=e.symbol.split("-")[1],j=(o==null?void 0:o.toLowerCase())==="thorchain"?h.THORChain:e.chain,k=y.useCallback(f=>{switch(f.stopPropagation(),j){case h.Ethereum:return Ce(m.toLowerCase());case h.Avalanche:return Se(m.toLowerCase());case h.BinanceSmartChain:return be(m.toLowerCase());default:return ye(e)}},[m,e,j]),w=y.useMemo(()=>{switch(j){case h.THORChain:return"THORYield";case h.Avalanche:return"Snowtrace";case h.BinanceSmartChain:return"BscScan";default:return"EtherScan"}},[j]),n=y.useMemo(()=>e.isSynthetic?`${e.type}`:`${e.type}${C?`, ${c(C)}`:""}`,[e.isSynthetic,e.type,c,C]),r=y.useMemo(()=>{switch(j){case h.Ethereum:return d?"etherscan":"etherscanLight";case h.Avalanche:return"snowtrace";case h.BinanceSmartChain:return d?"bscscan":"bscscanLight";default:return"thoryieldColor"}},[j,d]),l=j===h.THORChain?"pool":"address",i=y.useMemo(()=>"",[]);return t.jsxs(A,{alignCenter:!0,className:"group hover:duration-150 transition w-full cursor-pointer dark:hover:bg-dark-border-primary hover:bg-light-bg-secondary",onClick:()=>b(e),style:a,children:[t.jsxs(A,{className:"gap-x-3 pl-2",flex:1,children:[t.jsx(A,{center:!0,className:"pl-6",children:t.jsx(R,{asset:e,logoURI:s,size:30})}),t.jsxs(A,{col:!0,children:[t.jsxs(A,{alignCenter:!0,row:!0,className:"gap-x-1",children:[t.jsx(N,{fontWeight:"medium",textStyle:"h4",children:e.ticker}),t.jsx(N,{className:"h-6 overflow-hidden",fontWeight:"medium",textStyle:"subtitle1",variant:"secondary",children:i}),t.jsx(A,{className:"opacity-40 group-hover:opacity-100 transition",children:t.jsx(je,{content:`${_("views.swap.check",{checkType:l})} ${_("views.swap.onService",{serviceName:w})}${l==="address"?`, ${_("views.swap.contractAddress",{contractAddress:m})}`:""}`,children:t.jsx(ke,{iconName:r,onClick:k,size:16})})})]}),t.jsx(N,{className:"leading-[14px]",fontWeight:"light",textStyle:"caption-xs",textTransform:"uppercase",variant:e.isSynthetic?"primaryBtn":"secondary",children:n})]})]}),t.jsxs(A,{col:!0,className:"pr-6",justify:"end",children:[t.jsx(N,{className:"text-right",textStyle:"caption",variant:"secondary",children:x!=null&&x.gt(0)?x.toSignificant(6):""}),t.jsx(A,{className:"gap-x-1",justify:"end",children:t.jsx(N,{textStyle:"caption-xs",variant:"secondary",children:p!=null&&p.gt(0)?`${c(p)} `:""})})]})]})}),Ye=()=>{const{frequent:e,featured:s}=te(c=>c.assets),a=we(),o=y.useCallback(c=>{a(P.addFrequent(c))},[a]),x=y.useCallback(c=>{a(P.addFeatured(c))},[a]),b=y.useCallback(c=>{a(P.removeFeatured(c))},[a]),p=y.useCallback(c=>{a(P.toggleTokenList(c))},[a]),C=y.useCallback(c=>{var m;return c&&e.includes(`${(m=c.asset)==null?void 0:m.symbol}-${c.identifier}`)},[e]),d=y.useCallback(c=>{var m;return c&&s.includes(`${(m=c.asset)==null?void 0:m.symbol}-${c.identifier}`)},[s]);return{addFrequent:o,toggleTokenList:p,addFeatured:x,removeFeatured:b,isFrequent:C,isFeatured:d}};function G({assets:e=[],onSelect:s,onClose:a,typeFilter:o}){const x=te(({assets:k})=>k.disabledTokenLists),[b,p]=y.useState(o||"all"),{toggleTokenList:C}=Ye(),d=y.useMemo(()=>$.find(k=>{var w;return((w=k.chainAsset)==null?void 0:w.chain)===b||k.value===b}),[b]),c=y.useMemo(()=>b==="all"?e:e.filter(({asset:{chain:k}})=>k.toLowerCase()===b.toLowerCase()),[d==null?void 0:d.chainAsset,e,b]),m=y.useCallback(()=>{a==null||a()},[a]),j=y.useCallback(k=>{s(k),m()},[m,s]);return{close:m,disabledTokenLists:x,filteredAssets:c,select:j,setTypeFilter:p,toggleTokenList:C,typeFilter:b}}const Ge=52,Je=({assets:e,onSelect:s,onClose:a,isLoading:o,openManageTokenList:x,query:b,setQuery:p,noFilters:C})=>{const d=y.useRef(null),c=De(),{isLgActive:m}=Te(),{filteredAssets:j,select:k,typeFilter:w,setTypeFilter:n}=G({assets:e,onSelect:s,onClose:a}),r=y.useCallback(u=>{k(u),setTimeout(()=>p==null?void 0:p(""),500)},[k,p]),l=y.useCallback(({index:u,style:g})=>{const v=j[u];return v?y.createElement(Ke,{...v,key:`${v.asset.symbol}${v.asset.type}`,select:r,style:g}):t.jsx(y.Fragment,{},`empty-${u}`)},[j,r]),i=y.useCallback(u=>{var v,T,I;const g=((v=u==null?void 0:u.target)==null?void 0:v.value)||"";(I=(T=d==null?void 0:d.current)==null?void 0:T.scrollTo)==null||I.call(T,0),p==null||p(g)},[p]),f=y.useMemo(()=>$.filter(u=>e==null?void 0:e.find(g=>u.chainAsset&&g.asset.eqAsset(u.chainAsset))).map(u=>u.value).concat(["all"]),[e]);return t.jsxs(A,{col:!0,className:z("rounded-box-lg",H.secondary),flex:1,children:[t.jsx(A,{col:!0,className:z("px-4 py-6 pb-3 lg:p-6 lg:pb-6 rounded-t-box-lg gap-2",H.secondary),children:t.jsxs(t.Fragment,{children:[t.jsx(Ae,{autoFocus:!0,stretch:!0,border:"rounded",className:"!text-md p-1.5 flex-1 border",containerClassName:"bg-light-gray-light dark:bg-dark-gray-light !bg-opacity-80",onChange:i,placeholder:_("components.assetSelect.searchTokenName"),suffix:b?t.jsx(M,{color:"secondary",name:"close",onClick:()=>i()}):"",value:b}),!C&&t.jsx(_e,{buttonStyle:{px:2},enabledTabs:f,onChange:u=>n(u||"all"),tabs:c,value:w})]})}),t.jsx(A,{className:z("overflow-x-clip overflow-y-auto bg-light-gray-light dark:bg-dark-asset-select bg-opacity-70 dark:bg-opacity-100","border-solid border-b border-t border-l-0 border-r-0 border-light-border-primary dark:border-dark-gray-light","!-mr-6 lg:!-mr-4"),flex:1,children:j.length?t.jsx(Xe,{className:"!overflow-x-clip overflow-y-auto",height:m?410:1e3,itemCount:j.length||1,itemSize:Ge,ref:d,width:"100%",children:l}):t.jsx(A,{justifyCenter:!0,className:"pt-4",flex:1,children:o?t.jsx(M,{spin:!0,name:"loader",size:24}):t.jsx(N,{children:_("components.assetSelect.noResultsFound")})})}),t.jsx(A,{justifyCenter:!0,className:"z-10 pt-4 pb-6",children:!C&&t.jsxs("div",{className:"group flex-row flex justify-center",onClick:x,children:[t.jsx(M,{className:"cursor-pointer dark:group-hover:text-dark-typo-primary group-hover:text-light-typo-primary",color:"secondary",name:"edit",size:18}),t.jsx("div",{className:"cursor-pointer overflow-hidden transition-all",children:t.jsx("div",{className:"text-caption uppercase font-semibold px-3 transition-all whitespace-nowrap text-light-typo-gray dark:text-dark-typo-gray dark:group-hover:text-dark-typo-primary group-hover:text-light-typo-primary font-primary",children:_("components.assetSelect.manageTokenList")})})]})})]})},Ve=y.memo(Je),Qe=["Stargatearb"],Ze=({onSelect:e,onClose:s,assets:a})=>{const{data:o,isLoading:x}=Ie(),{toggleTokenList:b,disabledTokenLists:p}=G({onSelect:e,onClose:s,assets:a}),C=y.useMemo(()=>((o==null?void 0:o.filter(({provider:d})=>!(d.toLowerCase().includes("whitelist")||Qe.includes(d))))||[]).concat().sort((d,c)=>{const m=p.includes(d.provider),j=p.includes(c.provider);return m===j?c.nbTokens-d.nbTokens:m?1:-1}).filter(({provider:d})=>!Oe.includes(d)),[o,p]);return t.jsx("div",{className:z("flex flex-col flex-1 rounded-box-lg pb-10 pt-10",H.secondary),children:t.jsx("div",{className:z("h-full overflow-y-auto bg-light-gray-light dark:bg-dark-asset-select bg-opacity-70 dark:bg-opacity-100",Re,"scrollbar-track-light-gray-light dark:scrollbar-track-dark-asset-select","border-solid border-b border-t border-l-0 border-r-0 border-light-border-primary dark:border-dark-gray-light"),children:t.jsxs(A,{col:!0,className:"flex-1 pt-2",children:[C.map(({provider:d,nbTokens:c,version:m})=>t.jsxs(A,{alignCenter:!0,className:"gap-3 px-6 py-2 cursor-pointer dark:hover:bg-dark-border-primary hover:bg-light-bg-secondary transition",onClick:()=>b(d),children:[t.jsxs(A,{col:!0,className:"flex-1",children:[t.jsx(N,{className:"leading-[24px]",fontWeight:"medium",textStyle:"h4",textTransform:"capitalize",children:d}),t.jsxs(N,{className:"leading-[14px]",fontWeight:"light",textStyle:"caption-xs",textTransform:"uppercase",variant:d?"primaryBtn":"secondary",children:[c," ",_("common.tokens")," ",m?`| v${m.major}.${m.minor}.${m.patch}`:""]})]}),t.jsx(Le,{checked:!p.includes(d),onChange:()=>{},selectedText:"ON",unselectedText:"OFF"})]},d)),!(o!=null&&o.length)&&(x?t.jsx(A,{center:!0,className:"p-6",children:t.jsx(M,{spin:!0,name:"loader",size:24})}):t.jsx(A,{justifyCenter:!0,className:"pt-4",children:t.jsx(N,{children:_("components.assetSelect.noResultsFound")})}))]})})})},et=({selected:e,className:s,showAssetType:a,AssetListComponent:o,logoURI:x,assetTypeComponent:b,...p})=>{const[C,d]=y.useState(!1),[c,m]=y.useState(!1),j=o||Ve;return t.jsxs(t.Fragment,{children:[t.jsx(se,{assetTypeComponent:b,className:s,logoURI:x,onClick:()=>{d(!0),m(!1)},selected:e,showAssetType:a}),t.jsx(Ne,{isOpened:C,onBack:c?()=>m(!1):void 0,onClose:()=>d(!1),title:_(c?"components.assetSelect.manageTokenList":"components.assetSelect.selectAToken"),withBody:!1,children:t.jsx(A,{className:"md:w-[520px] overflow-hidden max-h-[80%] h-[80vh] lg:h-[40rem]",children:c?t.jsx(Ze,{...p}):t.jsx(j,{...p,onClose:()=>d(!1),openManageTokenList:()=>m(!0)})})})]})};export{et as A,se as a,G as u};
